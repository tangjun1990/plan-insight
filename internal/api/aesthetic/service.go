package aesthetic

import (
	"crypto/aes"
	"crypto/cipher"
	"encoding/base64"
	"encoding/json"
	"errors"
	"fmt"
	"image"
	"image/gif"
	"image/jpeg"
	"image/png"
	"io"
	"math/rand"
	"net/http"
	"os"
	"path/filepath"
	"sort"
	"strings"
	"time"

	"github.com/disintegration/imaging"
	"github.com/spf13/cast"
	"github.com/tangjun1990/flygo/core/kcfg"
	"github.com/tangjun1990/plan-insight/pkg/imagex"
	"gorm.io/gorm"
)

// Service 审美感知应用服务
type Service struct {
	db *gorm.DB
}

// NewService 创建服务实例
func NewService(db *gorm.DB) *Service {
	return &Service{
		db: db,
	}
}

// ======== 微信小程序用户相关 ========

// WxAuthRequest 微信小程序用户鉴权请求
type WxAuthRequest struct {
	Code          string `json:"code"`          // 微信登录code
	Phone         string `json:"phone"`         // 手机号（网页版使用）
	CloudID       string `json:"cloudID"`       // 手机号CloudID
	EncryptedData string `json:"encryptedData"` // 加密数据
	IV            string `json:"iv"`            // 加密算法的初始向量
}

// WxAuth 微信小程序用户鉴权
func (s *Service) WxAuth(req *WxAuthRequest) (*WxAuthResponse, error) {
	openID := ""
	phoneNumber := ""

	if req.Code == "mock_web_code" {
		// 模拟微信API返回的OpenID和手机号
		openID = "mock_openid"
		phoneNumber = req.Phone
	} else {
		wxResp, err := s.getWxOpenIDAndPhoneNumber(req.Code)
		if err != nil {
			return nil, fmt.Errorf("获取微信用户信息失败: %w", err)
		}

		openID = wxResp.OpenID

		// 如果提供了加密数据和IV，则尝试解密手机号
		if req.EncryptedData != "" && req.IV != "" {
			phoneInfo, err := s.decryptWxData(wxResp.SessionKey, req.EncryptedData, req.IV)
			if err == nil && phoneInfo.PhoneNumber != "" {
				phoneNumber = phoneInfo.PhoneNumber
				fmt.Println("从加密数据中解析手机号成功:", phoneNumber)
			} else {
				fmt.Println("解密手机号失败:", err)
			}
		}

		// 如果通过CloudID获取手机号
		if phoneNumber == "" && req.CloudID != "" {
			cloudPhoneInfo, err := s.getPhoneNumberByCloudID(req.CloudID)
			if err == nil && cloudPhoneInfo.PhoneNumber != "" {
				phoneNumber = cloudPhoneInfo.PhoneNumber
				fmt.Println("从CloudID获取手机号成功:", phoneNumber)
			} else {
				fmt.Println("从CloudID获取手机号失败:", err)
			}
		}

		fmt.Println("debugggggg---phoneNumber:", phoneNumber)
		fmt.Println("debug------openID:", openID)
	}

	// 如果请求中提供了手机号，优先使用请求中的手机号
	if req.Phone != "" {
		phoneNumber = req.Phone
	}

	// 如果仍然没有获取到手机号，返回错误
	if phoneNumber == "" {
		return nil, fmt.Errorf("无法获取用户手机号")
	}

	// 根据手机号查询用户
	var user User
	result := s.db.Where("phone = ?", phoneNumber).First(&user)

	now := time.Now()
	tokenExpire := now.Add(24 * time.Hour * 30) // token有效期7天
	token := fmt.Sprintf("user_token_%d_%d", time.Now().Unix(), time.Now().UnixNano())

	if result.Error != nil {
		if errors.Is(result.Error, gorm.ErrRecordNotFound) {
			// 新用户，创建用户记录
			user = User{
				Name:           "PLAN用户" + getRandomString(6),
				Phone:          phoneNumber,
				WxOpenID:       openID,
				Status:         1, // 正常状态
				FirstLoginTime: &now,
				LastLoginTime:  &now,
				Token:          token,
				TokenExpireAt:  &tokenExpire,
			}
			if err := s.db.Create(&user).Error; err != nil {
				return nil, err
			}
		} else {
			return nil, result.Error
		}
	} else {
		// 检查用户状态
		if user.Status == 0 {
			return nil, errors.New("用户已被禁用")
		}

		// 检查token是否过期
		if user.TokenExpireAt != nil && user.TokenExpireAt.Before(now) {
			// token已过期，重新生成
			user.Token = token
			user.TokenExpireAt = &tokenExpire
		}

		// 更新登录时间和OpenID
		user.LastLoginTime = &now
		user.WxOpenID = openID
		if err := s.db.Save(&user).Error; err != nil {
			return nil, err
		}
	}

	return &WxAuthResponse{
		Token:     user.Token,
		ExpiresIn: int64(tokenExpire.Sub(now).Seconds()),
		UserInfo: map[string]interface{}{
			"id":    user.ID,
			"phone": phoneNumber,
			"name":  user.Name,
		},
	}, nil
}

// GetUserByToken 根据用户token获取用户信息
func (s *Service) GetUserByToken(token string) (*User, error) {
	var user User
	result := s.db.Where("token = ?", token).First(&user)
	if result.Error != nil {
		return nil, result.Error
	}

	// 检查token是否过期
	if user.TokenExpireAt != nil && user.TokenExpireAt.Before(time.Now()) {
		return nil, errors.New("token已过期")
	}

	// 检查用户状态
	if user.Status == 0 {
		return nil, errors.New("用户已被禁用")
	}

	return &user, nil
}

// GetUserByID 根据ID获取用户信息
func (s *Service) GetUserByID(userID uint) (*User, error) {
	var user User
	result := s.db.First(&user, userID)
	if result.Error != nil {
		return nil, result.Error
	}
	return &user, nil
}

func getRandomString(length int) string {
	rand.Seed(time.Now().UnixNano())
	chars := "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"
	result := make([]byte, length)
	for i := 0; i < length; i++ {
		result[i] = chars[rand.Intn(len(chars))]
	}
	return string(result)
}

// UpdateUserInfo 更新用户信息
func (s *Service) UpdateUserInfo(userID uint, req UserUpdateRequest) error {
	var user User
	result := s.db.First(&user, userID)
	if result.Error != nil {
		return result.Error
	}

	// 只更新非空字段
	updates := map[string]interface{}{}

	if req.Name != "" {
		updates["name"] = req.Name
	}

	if req.Gender != "" {
		updates["gender"] = req.Gender
	}

	if req.Age > 0 {
		updates["age"] = req.Age
	}

	if req.City != "" {
		updates["city"] = req.City
	}

	if len(updates) > 0 {
		result = s.db.Model(&user).Updates(updates)
		if result.Error != nil {
			return result.Error
		}
	}

	return nil
}

type colorItem struct {
	Num  int    // 色号
	R    int    // R值
	G    int    // G值
	B    int    // B值
	Name string // 颜色名
	//Box     string   // 对应抽屉
	Words   []string // 对应的n个形容词
	Comment string   // 对应的文字评价
}

type boxItem struct {
	Num     int
	name    string
	StartX  int
	StartY  int
	Words   []string
	Colors  []int
	Comment string
}

var globalBox = []boxItem{
	{
		1,
		"可爱",
		360,
		465,
		[]string{"可爱的", "孩子气的", "伶俐的"},
		[]int{31, 33, 35},
		"",
	},

	{
		2,
		"阳光",
		150,
		745,
		[]string{"阳光的", "愉快的"},
		[]int{23, 30},
		"",
	},

	{
		3,
		"亲和",
		580,
		745,
		[]string{"有亲和力的", "活跃的"},
		[]int{22, 26},
		"",
	},

	{
		4,
		"开放",
		440,
		995,
		[]string{"开朗的", "轻松的", "开放的"},
		[]int{21, 32, 43, 56},
		"",
	},

	{
		5,
		"朝气",
		150,
		1220,
		[]string{"有生气的", "朝气蓬勃的"},
		[]int{7, 15},
		"",
	},

	{
		6,
		"华丽",
		440,
		1320,
		[]string{"绚丽的", "娇媚的", "华丽的"},
		[]int{3, 9, 11, 19, 89},
		"",
	},

	{
		7,
		"动感",
		150,
		1640,
		[]string{"充满活力的", "进取的"},
		[]int{5, 6, 34},
		"",
	},

	{
		8,
		"热情",
		150,
		1850,
		[]string{"热烈的", "刺激的"},
		[]int{2, 10},
		"",
	},

	{
		9,
		"强力",
		150,
		2080,
		[]string{"精力旺盛的", "动感的"},
		[]int{1, 130},
		"",
	},

	{
		10,
		"艳丽",
		510,
		1640,
		[]string{"魅惑的"},
		[]int{29},
		"",
	},

	{
		11,
		"豪华",
		510,
		1960,
		[]string{"豪华的", "富于装饰的"},
		[]int{13, 20, 86, 93, 99},
		"",
	},

	{
		12,
		"充实",
		810,
		1640,
		[]string{"充实的", "深邃的", "深邃的", "充实的"},
		[]int{12, 81, 103, 110},
		"",
	},

	{
		13,
		"粗犷",
		510,
		2280,
		[]string{"粗犷的", "健壮的", "坚韧的", "粗犷的", "粗犷的", "健壮的"},
		[]int{84, 91, 92, 95, 96, 105},
		"",
	},

	{
		14,
		"动人",
		810,
		185,
		[]string{"甜美的", "楚楚动人的"},
		[]int{41, 50},
		"",
	},

	{
		15,
		"浪漫",
		1440,
		185,
		[]string{"清纯的", "浪漫的"},
		[]int{39, 49},
		"",
	},

	{
		16,
		"娇美",
		1160,
		745,
		[]string{"精美的", "抒情的", "端庄的"},
		[]int{48, 59, 60},
		"",
	},

	{
		17,
		"细致",
		1490,
		745,
		[]string{"细致的", "有品位的"},
		[]int{51, 68, 79},
		"",
	},

	{
		18,
		"优雅",
		1160,
		1095,
		[]string{"女性化的", "幽雅的", "优雅的", "华美的"},
		[]int{40, 69, 70, 72, 80, 90},
		"",
	},

	{
		19,
		"上品",
		1450,
		1185,
		[]string{"精美的"},
		[]int{78},
		"",
	},

	{
		20,
		"自然",
		810,
		1220,
		[]string{"自然的", "朴素的", "田园的"},
		[]int{54, 63, 64, 73, 74, 83},
		"",
	},

	{
		21,
		"休闲",
		810,
		745,
		[]string{"休闲的", "舒适的"},
		[]int{42, 53},
		"",
	},

	{
		22,
		"温和",
		810,
		455,
		[]string{"温和的", "安宁的", "温柔的", "家居的"},
		[]int{44, 52, 55, 61, 62},
		"",
	},

	{
		23,
		"惬意",
		1440,
		455,
		[]string{"惬意的", "水灵灵的"},
		[]int{36, 45, 65},
		"",
	},

	{
		24,
		"新鲜",
		1710,
		745,
		[]string{"鲜活的"},
		[]int{4},
		"",
	},

	{
		25,
		"静妙",
		1710,
		1105,
		[]string{"安静的", "精致的"},
		[]int{57, 71, 85, 122},
		"",
	},

	{
		26,
		"洗练",
		1810,
		1465,
		[]string{"洗练的", "都市气息的"},
		[]int{58, 67, 75, 87},
		"",
	},

	{
		27,
		"知性",
		1810,
		1745,
		[]string{"文化气息的", "知性的"},
		[]int{66, 76, 88},
		"",
	},

	{
		28,
		"风度",
		1450,
		1635,
		[]string{"质朴的", "风度翩翩的"},
		[]int{124, 125},
		"",
	},

	{
		29,
		"传统",
		1100,
		1905,
		[]string{"传统的", "潜心的"},
		[]int{82, 100, 101, 106, 114},
		"",
	},

	{
		30,
		"坚实",
		1450,
		1905,
		[]string{"正统的", "坚实的"},
		[]int{98, 104},
		"",
	},

	{
		31,
		"考究",
		1810,
		2025,
		[]string{"考究的"},
		[]int{107, 117},
		"",
	},

	{
		32,
		"厚重",
		1000,
		2390,
		[]string{"厚重的"},
		[]int{94, 102, 116, 120},
		"",
	},

	{
		33,
		"格调",
		1450,
		2280,
		[]string{"有格调的", "坚定的", "正宗的"},
		[]int{111, 112, 113, 115, 118, 126},
		"",
	},

	{
		34,
		"正式",
		1810,
		2280,
		[]string{"新鲜的", "鲜活的", "肃穆的", "正式的", "高尚的"},
		[]int{24, 25, 109, 119, 127, 128, 129},
		"",
	},

	{
		35,
		"简洁",
		2190,
		375,
		[]string{"清冷的", "清雅的"},
		[]int{38, 46},
		"",
	},

	{
		36,
		"清净",
		2410,
		375,
		[]string{"清净的", "清爽的"},
		[]int{27, 47, 121},
		"",
	},

	{
		37,
		"青春",
		2190,
		905,
		[]string{"青春洋溢的", "轻快的"},
		[]int{17, 18, 37},
		"",
	},

	{
		38,
		"明快",
		2190,
		1285,
		[]string{"迅捷的", "运动的"},
		[]int{8, 14},
		"",
	},

	{
		39,
		"先进",
		2290,
		1745,
		[]string{"革新的", "进步的", "敏锐的"},
		[]int{16, 28, 108},
		"",
	},

	{
		40,
		"技术",
		2190,
		2025,
		[]string{"精确地", "现代化的", "人工的"},
		[]int{77, 97, 123},
		"",
	},
}

// 以下数据适用于2200*2760的base图片
/*var globalBox = []boxItem{
	{
		1,
		"可爱的",
		250,
		670,
		[]string{"稚嫩的", "可爱的", "孩子气的", "伶俐的"},
		[]int{2, 3, 21, 22, 30, 31, 23},
		"“可爱” 是表现惹人怜爱、娇柔模样的主题。具有可爱特质的人喜欢柔和、甜美的氛围。若要运用能让人联想到 “可爱” 的设计元素，可活用色彩相关要素。以 RP（紫红色系 ）为中心，搭配 B（蓝色系 ）到 GY（灰绿色系 ），展现出柔和的形象。避免使用浊色调，采用女性化的浅色调进行配色，以表现柔和、甜美的氛围。通过这种配色，可营造出鲜明、可爱且充满活力的印象。",
	},
	{
		2,
		"闲适的",
		130,
		1080,
		[]string{"开朗的", "快乐的", "高兴的", "愉快的", "风趣的", "阳光的", "快活的", "活跃的", "有生气的", "闲适的", "朝气蓬勃的", "鲜艳的", "绚丽的", "轻松的", "自由自在的", "无忧无虑的", "有亲和力的", "开放的"},
		[]int{1, 10, 11, 12},
		"【闲适的】是一种融合了活泼、开放与亲切特质的氛围主题，呈现出轻松自在又不失温暖活力的整体印象。使用 GY（黄绿色系） - YR（橙色系） ，为营造沉稳感，避免过于明亮的色调，采用低调、柔和的色调配色。为营造沉稳感，避免过于明亮的色调，采用低调、柔和的色调配色，以 GY 或 YR 为中心，搭配白色和淡色，强化从容舒适感，加入暖色系，营造温暖舒适的氛围。材质选用自然纹理（亚麻、浅木），线条保留适度弧度，整体平衡「活力」与「松弛感」，达成闲适而不散漫、温暖而不甜腻的独特气质。",
	},
	{
		3,
		"动感的",
		130,
		1680,
		[]string{"充满活力的", "悦动的", "进取的", "主动的", "大胆的", "刺激的", "热烈的", "激烈的", "强烈的", "动感的", "力动的", "精力旺盛的"},
		[]int{0},
		" “动感”是表现充满活力、积极跃动状态的主题，具有动感特质的人喜欢充满活力、积极的氛围。 若要运用能让人联想到“动感”的设计元素，颜色选用暖色系的R（红色系 ）到Y（黄色系 ）、G（绿色系 ），为突出力量感，避免使用沉闷色调，采用鲜艳色调来搭配色彩。为实现鲜艳色调的搭配，将黑色与代表黄色的红色搭配，再加入冷色系的PB（蓝色系 ），能进一步突出力量感，强调强度（表现强烈的意志能量 ），营造出充满动感活力的氛围。",
	},
	{
		4,
		"豪华的",
		380,
		1680,
		[]string{"娇媚的", "娇艳的", "华丽的", "性感的", "魅惑的", "富于装饰的", "丰满的", "丰润的", "豪华的", "成熟的", "奢华的", "充实的", "浓郁的"},
		[]int{91, 92, 100},
		"“豪华” 是表现富足且华丽的主题，具有豪华特质的人喜欢非常华丽耀眼的氛围。若要运用能让人联想到 “豪华” 的设计元素，颜色方面，色相选用 R（红色系 ）到 P（紫色系 ），为展现华丽感，采用有深度的色调进行配色。V调让人联想到黄金，营造出豪华高端的形象，加入 P（紫色系 ）进一步增强华丽感，加入黑色营造出高级感。",
	},
	{
		5,
		"粗犷的",
		380,
		2130,
		[]string{"强劲的", "坚韧的", "阳刚的", "健壮的"},
		[]int{101},
		"“粗犷” 是表现处于野生自然状态或粗犷有力状态的主题，具有野性特质的人喜欢男性化的氛围。若要运用能让人联想到 “野性” 的设计元素，颜色方面，色相以 R（红色系 ）和 YR（黄红色系 ）为主，搭配 G（绿色系 ）到 BG（蓝绿色系 ）、P（紫色系 ），为突出强壮感，避免使用浅色调，采用深色调。通过搭配黑色（Bk ），增强硬朗印象，从而表现出野性的形象。",
	},

	{
		6,
		"浪漫的",
		650,
		620,
		[]string{"楚楚动人的", "甜美的", "纯净的", "浪漫的", "童话般的", "朦胧的", "纯真的", "清纯的"},
		[]int{32, 33, 34, 41, 42, 43, 44, 49, 50, 122},
		"“浪漫” 是表现富有情感且甜美的神情的主题，具有浪漫特质的人喜欢柔和且独特的氛围。若要运用能让人联想到 “浪漫” 的设计元素，颜色偏向 YR（黄红色系 ）到 RP（紫红色系 ），以 YR 为中心进行配色，搭配白色，可营造出少女般的氛围。加入 B（蓝色系 ）到 P（紫色系 ），能增强幻想般的氛围。",
	},
	{
		7,
		"自然的",
		650,
		870,
		[]string{"自然的", "悠然自然的", "温和的", "大方的", "放松的", "舒适的", "坦诚的", "悠闲的", "家居的", "温润的", "和睦的", "柔软的", "柔和的",
			"融洽的", "温柔的", "安宁的", "温顺的", "淡泊的", "简朴的", "不加修饰的", "和平的", "水灵灵的", "惬意的", "健康的", "新鲜的", "鲜活的", "安稳的"},
		[]int{13, 20, 24, 25, 39, 40, 51, 52, 53, 54, 55, 59, 61, 62, 70, 82, 123},
		"“自然” 是表现不做作、夸张，呈现自然天然状态的主题，具有自然特质的人喜欢温暖的户外氛围。若要运用能让人联想到 “自然” 的设计元素，颜色方面，色相选用 YR（黄红色系 ）到 G（绿色系 ）以及无彩色，采用中明度中彩度的尼泊尔风格配色。暖色系的 Y（黄色系 ）点缀出舒适感，中性色营造出宁静平和的氛围。",
	},
	{
		8,
		"雅致的",
		960,
		1040,
		[]string{"优美的", "有情趣的", "端庄的", "抒情的", "细腻的", "细致的", "柔美的", "娇美的", "有品味位的", "含蓄的", "华美的", "女性化的", "雅致的", "温文尔雅的", "秀丽的", "优雅的"},
		[]int{4, 5, 14, 19, 29, 60, 63, 64, 69, 83, 84, 124, 125},
		"【雅致】是一种融合女性柔美与高雅格调的主题风格，偏好【雅致】的人群通常喜爱柔和而精致的氛围。要营造【雅致】的设计效果，建议以RP-P（玫瑰粉至薰衣草紫）为主色调，搭配PB-P（灰蓝色至淡紫色）及GY-B-RP（灰绿色至淡紫红），避免使用刚硬的男性化色调，采用低饱和度的浊色调进行协调配色。以P（紫色）系为基调，配合相近色相或中性色，能完美呈现高贵典雅的女性气质。",
	},
	{
		9,
		"精致的",
		1350,
		1150,
		[]string{"微妙的", "谨慎的", "安静的", "随章的", "洗练的", "质朴的", "精致的", "洒脱的", "江河的", "都市气息的", "文化气息的", "知性的", "冷静的", "娴静的", "萧瑟的", "素雅的", "风流的", "乡土气息的"},
		[]int{6, 13, 15, 28, 65, 66, 68, 85, 86, 87, 89},
		"【精致的】是一种融合清新与深邃美感的设计主题，偏好【精致的】风格的人群通常喜爱细腻而高雅的氛围。要呈现【精致的】设计效果，建议以GY-PB（薄荷绿至雾霾蓝）为主基调，搭配PB-G（灰紫色至黛青色），通过明清色与浊色的渐变过渡来协调配色。避免使用艳丽色调，采用75%冷色系（明度70-85）、20%中性色（珍珠白/银灰）及5%金属点缀色（铂金/哑光金）的构成比例。",
	},
	{
		10,
		"古典的",
		800,
		1680,
		[]string{"怀念的", "古风的", "深邃的", "潜心的", "怀旧的", "传统的", "古典的"},
		[]int{9, 71, 72, 81, 90, 93, 99, 102, 103},
		"【古典的】是一种融合风雅韵味与传统厚重感的设计主题，偏好【古典的】风格的人群通常喜爱高雅而沉稳的氛围。要呈现【古典的】设计效果，建议采用Y-RP（黄色至紫红色）至PB-GY（蓝紫色至灰绿色）的色相范围，避免使用艳丽色调，以低饱和度的沉稳色调进行协调配色。",
	},
	{
		11,
		"考究的",
		1150,
		1780,
		[]string{"深沉的", "绅士的", "男子汉的", "严谨的", "凌然的", "正统的", "坚实的", "考究的"},
		[]int{8, 73, 74, 75, 76, 77, 78, 79, 80, 88, 94, 95, 96, 97, 98, 126, 127},
		"“高品质” 是表现纯净、优质的主题。具有高品质特质的人喜欢精致、高雅的氛围。若要运用能让人联想到“高品质”的设计元素，可活用色彩相关要素。以 PB（蓝色系 ）为中心，突出精致感。避免使用强烈、杂乱的颜色，采用低调、沉稳的色调进行配色，注意色调对比，避免过于强烈，可营造出高品质、高雅的氛围。",
	},
	{
		12,
		"古典的&考究的",
		860,
		2130,
		[]string{"锤炼的", "庄重的", "厚重的", "坚定的", "有格调的", "独到的", "正宗的"},
		[]int{104, 105, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 128, 129, 130},
		"【古典的&考究的】是一种融合了厚重底蕴与高雅格调的设计主题，偏好这种风格的人群通常追求既沉稳可靠又严谨精致的审美体验。在色彩运用上，建议以RP-PB（紫红色至蓝紫色）的宽幅色域为基调，特别注重PB（蓝紫色）的中心地位，通过暗色调与暗清色的统一配色营造庄重氛围。材质选择上，推荐以70%哑光织物表现古典的沉稳，25%细腻皮革彰显考究品质，再辅以5%金属装饰提升精致度。这种设计语言既能通过冷色系营造严谨的紧绷感，又能借暖色系传递充实的温度，最终达成“重而不笨、雅而不娇“的完美平衡，特别适合表现具有历史底蕴又不失现代精致感的空间与产品设计。",
	},
	{
		13,
		"正式的",
		1440,
		2100,
		[]string{"高雅的", "高沿的", "高贵的", "神圣的", "庄严的", "肃穆的"},
		[]int{106, 107},
		"“正式” 是表现遵循既定正确方式、不简化且依照原本形式的主题，具有正式特质的人喜欢高雅的氛围。若要运用能让人联想到 “正式” 的设计元素，颜色方面，色相以冷色系的 PB（蓝色系 ）为主，采用冷静的尼泊尔风格色调，打造出众的配色。通过搭配白色或明亮的无彩色营造沉稳感，凸显黑色（Bk ）的高级感和 PB（蓝色系 ）的优雅感。",
	},
	{
		14,
		"清爽的",
		1590,
		730,
		[]string{"清雅的", "清新的", "清静的", "清澈的", "清爽的", "清朗的", "清冷的"},
		[]int{26, 35, 36, 37, 38, 45, 46, 47, 48, 56, 57, 58, 121},
		"【清爽的】是一种融合洁净质感与简约美学的生活设计主题，偏好这种风格的人群追求通透利落的视觉体验。在色彩运用上，推荐以B-GB-PB的冷色系为主，其中B（蓝色）作为核心基调，搭配BG-G-PB（薄荷绿至灰蓝）构建层次感，最后点缀YR（浅珊瑚色）增添活力。关键要避免浊色和强烈对比，采用明清色调，配合纯白作为空间留白。材质选择上，玻璃、亚克力等透明材质为主，哑光织物为辅。这种设计语言既保留了GB-PB色系带来的水质般透明感，又通过简约的BG-G过渡色块强化了现代感，特别适合表现“少即是多“的清爽美学，在卫浴用品、家居饰品和电子数码产品领域尤为适用。",
	},
	{
		15,
		"冷.闲适的",
		1650,
		1160,
		[]string{"轻快的", "青春的", "青春洋溢的", "清冽的", "运动的"},
		[]int{16, 17, 27, 67},
		"【冷·闲适的】是一种融合青春活力与明快特质的现代设计主题，偏好这种风格的人群追求既轻松愉悦又不失格调的生活氛围。在色彩运用上，建议采用冷暖平衡的配色方案：以G-B（松绿至雾蓝）冷色系作为基调，搭配Y（淡柠檬黄）与R（浅珊瑚粉）暖色系作为点缀。具体实施时，应避免使用高彩度高于的强烈色调，推荐采用明清色与浊色相结合的中间调，通过柔和的冷暖对比营造舒适视觉体验。材质选择上，亚麻等天然织物为主。既保留了Y-GB色系带来的清新活力，又通过PB系的冷调沉淀了整体氛围，特别适合打造都市中的休闲生活空间，在咖啡厅、书店和居家工作区域等场景中尤能体现“动中有静“的美学意境。",
	},
	{
		16,
		"现代的",
		1690,
		1690,
		[]string{"迅捷的", "现代的", "进步的", "革新的", "机敏的", "理性的", "敏锐的", "精确的", "合理的", "致密的", "人工的", "现代化的"},
		[]int{7},
		"【现代的】是一种融合未来前瞻性与科技实用性的设计主题，其核心在于平衡冷峻的科技美学与人性化的功能体验。在色彩系统构建上，我们建议采用双核心架构：以B-BG（科技蓝至数字绿）冷色系奠定科技基调，同时融入G-PB（矿物绿至电子紫）构建未来层次，并以YR-Y（橙黄至荧光黄）作为创新点缀。这套系统既延续了BG-PB色系的专业感，又通过YR暖调的适度介入，在机械精密中注入人文温度。特别适用于智能终端、新能源汽车等需要同时体现代科技可靠性与未来亲和力的产品设计领域。",
	},
}*/

type IndexColorRspItem struct {
	Num  int
	Name string
	RGB  string
}

func (s *Service) GetIndexColor() []*IndexColorRspItem {
	rsp := make([]*IndexColorRspItem, 0)
	// 按照既定的顺序返回130颜色
	for _, s := range sortedColorByNum {
		for _, v := range globalColor {
			if v.Num == s {
				rsp = append(rsp, &IndexColorRspItem{
					Num:  v.Num,
					Name: v.Name,
					RGB:  rgbToHex(uint8(v.R), uint8(v.G), uint8(v.B)),
				})
				break
			}

		}
	}
	return rsp
}

var menImage = []string{
	"1-2-1.jpg",
	"1-2-2.jpg",
	"1-2-3.jpg",
	"1-2-4.png",
	//"1-2-5.jpg", // 低质量
	"1-2-5.png", // 高质量
	"1-2-6.jpg",
	"1-2-7.jpg",
	"1-2-8.jpg",
	"1-2-9.jpg",
	"1-2-10.jpg",
	"1-2-11.jpg",
	"1-2-12.jpg",
	"1-2-13.jpg",
	"1-2-14.jpg",
	"1-2-15.jpg",
	"1-2-16.jpg",
}

var menImageV2 = []string{
	"1-2-1.png",
	"1-2-2.png",
	"1-2-3.png",
	"1-2-4.png",
	"1-2-5.png",
	"1-2-6.png",
	"1-2-7.png",
	"1-2-8.jpg",
	"1-2-9.png",
	"1-2-10.png",
	"1-2-11.png",
	"1-2-12.png",
	"1-2-13.jpg",
	"1-2-14.png",
	"1-2-15.png",
	"1-2-16.png",
	"1-2-17.png",
	"1-2-18.png",
	"1-2-19.png",
	"1-2-20.jpg",
	"1-2-21.png",
	"1-2-22.jpg",
	"1-2-23.png",
	"1-2-24.png",
	"1-2-25.png",
	"1-2-26.png",
	"1-2-27.png",
	"1-2-28.png",
	"1-2-29.png",
	"1-2-30.jpg",
	"1-2-31.png",
	"1-2-32.png",
	"1-2-33.png",
	"1-2-34.png",
	"1-2-35.png",
	"1-2-36.jpg",
	"1-2-37.jpg",
	"1-2-38.png",
	"1-2-39.png",
	"1-2-40.png",
}

var globalImageV2 = []string{
	"1-1-1.png",
	"1-1-2.png",
	"1-1-3.png",
	"1-1-4.png",
	"1-1-5.png",
	"1-1-6.png",
	"1-1-7.png",
	"1-1-8.png",
	"1-1-9.png",
	"1-1-10.png",
	"1-1-11.png",
	"1-1-12.png",
	"1-1-13.png",
	"1-1-14.png",
	"1-1-15.png",
	"1-1-16.png",
	"1-1-17.png",
	"1-1-18.png",
	"1-1-19.png",
	"1-1-20.png",
	"1-1-21.png",
	"1-1-22.jpg",
	"1-1-23.png",
	"1-1-24.png",
	"1-1-25.png",
	"1-1-26.png",
	"1-1-27.png",
	"1-1-28.png",
	"1-1-29.png",
	"1-1-30.png",
	"1-1-31.png",
	"1-1-32.png",
	"1-1-33.png",
	"1-1-34.png",
	"1-1-35.png",
	"1-1-36.png",
	"1-1-37.png",
	"1-1-38.png",
	"1-1-39.png",
	"1-1-40.png",

	"2-1-1.jpg",
	"2-1-2.jpg",
	"2-1-3.jpg",
	"2-1-4.jpg",
	"2-1-5.jpg",
	"2-1-6.png",
	"2-1-7.jpg",
	"2-1-8.jpg",
	"2-1-9.jpg",
	"2-1-10.jpg",
	"2-1-11.jpg",
	"2-1-12.jpg",
	"2-1-13.jpg",
	"2-1-14.png",
	"2-1-15.png",
	"2-1-16.jpg",
	"2-1-17.jpg",
	"2-1-18.jpg",
	"2-1-19.jpg",
	"2-1-20.jpg",
	"2-1-21.png",
	"2-1-22.png",
	"2-1-23.png",
	"2-1-24.png",
	"2-1-25.png",
	"2-1-26.jpg",
	"2-1-27.jpg",
	"2-1-28.jpg",
	"2-1-29.jpg",
	"2-1-30.jpg",
	"2-1-31.png",
	"2-1-32.jpg",
	"2-1-33.png",
	"2-1-34.png",
	"2-1-35.jpg",
	"2-1-36.jpg",
	"2-1-37.png",
	"2-1-38.jpg",
	"2-1-39.png",
	"2-1-40.png",

	"3-1-1.png",
	"3-1-2.png",
	"3-1-3.png",
	"3-1-4.png",
	"3-1-5.png",
	"3-1-6.png",
	"3-1-7.png",
	"3-1-8.png",
	"3-1-9.png",
	"3-1-10.png",
	"3-1-11.png",
	"3-1-12.png",
	"3-1-13.png",
	"3-1-14.png",
	"3-1-15.png",
	"3-1-16.png",
	"3-1-17.png",
	"3-1-18.png",
	"3-1-19.png",
	"3-1-20.png",
	"3-1-21.png",
	"3-1-22.png",
	"3-1-23.png",
	"3-1-24.jpg",
	"3-1-25.png",
	"3-1-26.png",
	"3-1-27.png",
	"3-1-28.png",
	"3-1-29.png",
	"3-1-30.png",
	"3-1-31.png",
	"3-1-32.png",
	"3-1-33.png",
	"3-1-34.png",
	"3-1-35.png",
	"3-1-36.png",
	"3-1-37.png",
	"3-1-38.png",
	"3-1-39.png",
	"3-1-40.png",

	"4-1-1.jpg",
	"4-1-2.png",
	"4-1-3.jpg",
	"4-1-4.png",
	"4-1-5.png",
	"4-1-6.jpg",
	"4-1-7.png",
	"4-1-8.png",
	"4-1-9.png",
	"4-1-10.png",
	"4-1-11.png",
	"4-1-12.png",
	"4-1-13.png",
	"4-1-14.png",
	"4-1-15.png",
	"4-1-16.png",
	"4-1-17.png",
	"4-1-18.png",
	"4-1-19.png",
	"4-1-20.png",
	"4-1-21.jpg",
	"4-1-22.jpg",
	"4-1-23.jpg",
	"4-1-24.jpg",
	"4-1-25.jpg",
	"4-1-26.jpg",
	"4-1-27.jpg",
	"4-1-28.jpg",
	"4-1-29.jpg",
	"4-1-30.jpg",
	"4-1-31.png",
	"4-1-32.png",
	"4-1-33.jpg",
	"4-1-34.png",
	"4-1-35.jpg",
	"4-1-36.jpg",
	"4-1-37.jpg",
	"4-1-38.png",
	"4-1-39.jpg",
	"4-1-40.png",

	"5-1-1.png",
	"5-1-2.png",
	"5-1-3.png",
	"5-1-4.jpg",
	"5-1-5.png",
	"5-1-6.png",
	"5-1-7.png",
	"5-1-8.png",
	"5-1-9.png",
	"5-1-10.png",
	"5-1-11.png",
	"5-1-12.jpg",
	"5-1-13.jpg",
	"5-1-14.png",
	"5-1-15.png",
	"5-1-16.png",
	"5-1-17.png",
	"5-1-18.png",
	"5-1-19.png",
	"5-1-20.png",
	"5-1-21.png",
	"5-1-22.jpg",
	"5-1-23.png",
	"5-1-24.png",
	"5-1-25.png",
	"5-1-26.png",
	"5-1-27.png",
	"5-1-28.png",
	"5-1-29.png",
	"5-1-30.png",
	"5-1-31.png",
	"5-1-32.png",
	"5-1-33.png",
	"5-1-34.png",
	"5-1-35.png",
	"5-1-36.png",
	"5-1-37.png",
	"5-1-38.png",
	"5-1-39.png",
	"5-1-40.png",

	"6-1-1.jpg",
	"6-1-2.png",
	"6-1-3.jpg",
	"6-1-4.jpg",
	"6-1-5.png",
	"6-1-6.png",
	"6-1-7.jpg",
	"6-1-8.png",
	"6-1-9.jpg",
	"6-1-10.png",
	"6-1-11.jpg",
	"6-1-12.png",
	"6-1-13.png",
	"6-1-14.jpg",
	"6-1-15.jpg",
	"6-1-16.jpg",
	"6-1-17.jpg",
	"6-1-18.jpg",
	"6-1-19.png",
	"6-1-20.png",
	"6-1-21.png",
	"6-1-22.jpg",
	"6-1-23.png",
	"6-1-24.jpg",
	"6-1-25.png",
	"6-1-26.png",
	"6-1-27.png",
	"6-1-28.png",
	"6-1-29.png",
	"6-1-30.png",
	"6-1-31.jpg",
	"6-1-32.png",
	"6-1-33.png",
	"6-1-34.png",
	"6-1-35.jpg",
	"6-1-36.jpg",
	"6-1-37.jpg",
	"6-1-38.png",
	"6-1-39.png",
	"6-1-40.jpg",
}

var globalImage = []string{
	"1-1-1.png",
	"1-1-2.png",
	"1-1-3.png",
	"1-1-4.png",
	"1-1-5.png",
	"1-1-6.png",
	"1-1-7.png",
	"1-1-8.png",
	"1-1-9.png",
	"1-1-10.png",
	"1-1-11.png",
	"1-1-12.png",
	"1-1-13.png",
	"1-1-14.png",
	"1-1-15.png",
	"1-1-16.png",

	"2-1-1.jpg",
	"2-1-2.jpg",
	"2-1-3.jpg",
	"2-1-4.jpg",
	"2-1-5.jpg",
	"2-1-6.png",
	"2-1-7.jpg",
	"2-1-8.png",
	"2-1-9.jpg",
	"2-1-10.jpg",
	"2-1-11.png",
	"2-1-12.png",
	"2-1-13.png",
	"2-1-14.png",
	"2-1-15.png",
	"2-1-16.png",

	"3-1-1.png",
	"3-1-2.png",
	"3-1-3.png",
	"3-1-4.png",
	"3-1-5.png",
	"3-1-6.png",
	"3-1-7.png",
	"3-1-8.png",
	"3-1-9.png",
	"3-1-10.png",
	"3-1-11.png",
	"3-1-12.png",
	"3-1-13.png",
	"3-1-14.png",
	"3-1-15.png",
	"3-1-16.png",

	"4-1-1.png",
	"4-1-2.png",
	"4-1-3.png",
	"4-1-4.png",
	"4-1-5.png",
	"4-1-6.png",
	"4-1-7.png",
	"4-1-8.png",
	"4-1-9.png",
	"4-1-10.png",
	"4-1-11.png",
	"4-1-12.png",
	"4-1-13.png",
	"4-1-14.png",
	"4-1-15.png",
	"4-1-16.png",

	"5-1-1.jpg",
	"5-1-2.jpg",
	"5-1-3.jpg",
	"5-1-4.jpg",
	"5-1-5.jpg",
	"5-1-6.jpg",
	"5-1-7.jpg",
	"5-1-8.jpg",
	"5-1-9.jpg",
	"5-1-10.jpg",
	"5-1-11.jpg",
	"5-1-12.jpg",
	"5-1-13.jpg",
	"5-1-14.jpg",
	"5-1-15.jpg",
	"5-1-16.png",

	"6-1-1.png",
	"6-1-2.png",
	"6-1-3.png",
	"6-1-4.png",
	"6-1-5.png",
	"6-1-6.png",
	"6-1-7.png",
	"6-1-8.png",
	"6-1-9.png",
	"6-1-10.png",
	"6-1-11.png",
	"6-1-12.png",
	"6-1-13.png",
	"6-1-14.png",
	"6-1-15.png",
	"6-1-16.png",

	"7-1-1.jpg",
	"7-1-2.jpg",
	"7-1-3.jpg",
	"7-1-4.jpg",
	"7-1-5.jpg",
	"7-1-6.jpg",
	"7-1-7.jpg",
	"7-1-8.jpg",
	"7-1-9.jpg",
	"7-1-10.jpg",
	"7-1-11.jpg",
	"7-1-12.jpg",
	"7-1-13.jpg",
	"7-1-14.jpg",
	"7-1-15.jpg",
	"7-1-16.jpg",

	"8-1-1.png",
	"8-1-2.png",
	"8-1-3.png",
	"8-1-4.jpeg",
	"8-1-5.png",
	"8-1-6.png",
	"8-1-7.png",
	"8-1-8.png",
	"8-1-9.png",
	"8-1-10.png",
	"8-1-11.png",
	"8-1-12.png",
	"8-1-13.png",
	"8-1-14.png",
	"8-1-15.png",
	"8-1-16.png",

	"9-1-1.png",
	"9-1-2.png",
	"9-1-3.png",
	"9-1-4.png",
	"9-1-5.png",
	"9-1-6.png",
	"9-1-7.png",
	"9-1-8.png",
	"9-1-9.png",
	"9-1-10.png",
	"9-1-11.png",
	"9-1-12.png",
	"9-1-13.png",
	"9-1-14.png",
	"9-1-15.png",
	"9-1-16.png",

	"10-1-1.png",
	"10-1-2.png",
	"10-1-3.png",
	"10-1-4.png",
	"10-1-5.png",
	"10-1-6.png",
	"10-1-7.png",
	"10-1-8.png",
	"10-1-9.png",
	"10-1-10.png",
	"10-1-11.png",
	"10-1-12.png",
	"10-1-13.png",
	"10-1-14.png",
	"10-1-15.png",
	"10-1-16.png",
}

type ImageCategoryItem struct {
	CategoryID          int
	CategoryName        string
	CategoryEnglishName string
}

var globalImageCategory = []ImageCategoryItem{
	{
		1,
		"服装",
		"clothing",
	},
	{
		2,
		"汽车",
		"car",
	},
	{
		3,
		"椅子",
		"living",
	},
	{
		4,
		"生活方式",
		"life",
	},
	{
		5,
		"图案",
		"tuan",
	},
	{
		6,
		"材质",
		"caizhi",
	},
	/*{
		5,
		"客厅",
		"keting",
	},
	{
		6,
		"餐厅",
		"canting",
	},
	{
		7,
		"卧室",
		"woshi",
	},
	{
		8,
		"卫生间",
		"weishengjian",
	},
	{
		9,
		"厨房",
		"chufang",
	},
	{
		10,
		"洗衣房",
		"xiyifang",
	},*/
}

func imageCategoryIDToName(ID int) string {
	for _, item := range globalImageCategory {
		if item.CategoryID == ID {
			return item.CategoryName
		}
	}
	return "未知"
}

func imageCategoryIDToEnglishName(ID int) string {
	for _, item := range globalImageCategory {
		if item.CategoryID == ID {
			return item.CategoryEnglishName
		}
	}
	return "clothing"
}

type IndexImageRspItem struct {
	CategoryEnglishName string
	SubItems            []IndexImageRspSubItem
}

type IndexImageRspSubItem struct {
	Name         string
	URL          string
	CategoryName string
}

func (s *Service) GetAllImage() []string {
	allimage := make([]string, 0)
	allimage = append(allimage, menImageV2...)
	allimage = append(allimage, globalImageV2...)
	return allimage
}

func (s *Service) GetIndexImage(gender string) []IndexImageRspItem {
	rsp := make([]IndexImageRspItem, 0)
	for _, cate := range globalImageCategory {

		subItems := make([]IndexImageRspSubItem, 0)
		for k, i := range globalImageV2 {
			// 比如 2-1-10.png，2代表所属类别，1代表子类别，10代表序号且对应抽屉号
			tmp := strings.Split(i, "-")
			tmpCategoryID := cast.ToInt(tmp[0])
			if tmpCategoryID == cate.CategoryID {
				if tmpCategoryID == 1 && gender == "男" {
					i = menImageV2[k]
				}
				subItems = append(subItems, IndexImageRspSubItem{
					Name:         i,
					URL:          "/imgv2/" + i,
					CategoryName: imageCategoryIDToName(tmpCategoryID),
				})
			}
		}
		rsp = append(rsp, IndexImageRspItem{
			CategoryEnglishName: cate.CategoryEnglishName,
			SubItems:            subItems,
		})
	}

	return rsp
}

func (s *Service) GetIndexWord() []string {
	rsp := make([]string, 0)
	for _, v := range globalWord {
		rsp = append(rsp, v.w)
	}
	return rsp
}

type CityItem struct {
	Id   string `json:"id"`
	Name string `json:"name"`
}

type ProvinceItem struct {
	Id   string     `json:"id"`
	Name string     `json:"name"`
	City []CityItem `json:"city"`
}

func (s *Service) GetAllCity() []ProvinceItem {
	js := `{"0":{"1":"北京","2":"天津","3":"河北省","4":"山西省","5":"内蒙古自治区","6":"辽宁省","7":"吉林省","8":"黑龙江省","9":"上海","10":"江苏省","11":"浙江省","12":"安徽省","13":"福建省","14":"江西省","15":"山东省","16":"河南省","17":"湖北省","18":"湖南省","19":"广东省","20":"广西壮族自治区","21":"海南省","22":"重庆","23":"四川省","24":"贵州省","25":"云南省","26":"西藏自治区","27":"陕西省","28":"甘肃省","29":"青海省","30":"宁夏回族自治区","31":"新疆维吾尔自治区","32":"台湾","33":"香港特别行政区","34":"澳门特别行政区","35":"海外"},"1":{"36":"北京市"},"2":{"37":"天津市"},"3":{"38":"石家庄市","39":"唐山市","40":"秦皇岛市","41":"邯郸市","42":"邢台市","43":"保定市","44":"张家口市","45":"承德市","46":"沧州市","47":"廊坊市","48":"衡水市"},"4":{"49":"太原市","50":"大同市","51":"阳泉市","52":"长治市","53":"晋城市","54":"朔州市","55":"晋中市","56":"运城市","57":"忻州市","58":"临汾市","59":"吕梁市"},"5":{"60":"呼和浩特市","61":"包头市","62":"乌海市","63":"赤峰市","64":"通辽市","65":"鄂尔多斯市","66":"呼伦贝尔市","67":"巴彦淖尔市","68":"乌兰察布市","69":"兴安盟","70":"锡林郭勒盟","71":"阿拉善盟"},"6":{"72":"沈阳市","73":"大连市","74":"鞍山市","75":"抚顺市","76":"本溪市","77":"丹东市","78":"锦州市","79":"营口市","80":"阜新市","81":"辽阳市","82":"盘锦市","83":"铁岭市","84":"朝阳市","85":"葫芦岛市"},"7":{"86":"长春市","87":"吉林市","88":"四平市","89":"辽源市","90":"通化市","91":"白山市","92":"松原市","93":"白城市","94":"延边朝鲜族自治州"},"8":{"95":"哈尔滨市","96":"齐齐哈尔市","97":"鸡西市","98":"鹤岗市","99":"双鸭山市","100":"大庆市","101":"伊春市","102":"佳木斯市","103":"七台河市","104":"牡丹江市","105":"黑河市","106":"绥化市","107":"大兴安岭地区"},"9":{"108":"上海市"},"10":{"109":"南京市","110":"无锡市","111":"徐州市","112":"常州市","113":"苏州市","114":"南通市","115":"连云港市","116":"淮安市","117":"盐城市","118":"扬州市","119":"镇江市","120":"泰州市","121":"宿迁市"},"11":{"122":"杭州市","123":"宁波市","124":"温州市","125":"嘉兴市","126":"湖州市","127":"绍兴市","128":"金华市","129":"衢州市","130":"舟山市","131":"台州市","132":"丽水市"},"12":{"133":"合肥市","134":"芜湖市","135":"蚌埠市","136":"淮南市","137":"马鞍山市","138":"淮北市","139":"铜陵市","140":"安庆市","141":"黄山市","142":"滁州市","143":"阜阳市","144":"宿州市","145":"六安市","146":"亳州市","147":"池州市","148":"宣城市"},"13":{"149":"福州市","150":"厦门市","151":"莆田市","152":"三明市","153":"泉州市","154":"漳州市","155":"南平市","156":"龙岩市","157":"宁德市"},"14":{"158":"南昌市","159":"景德镇市","160":"萍乡市","161":"九江市","162":"新余市","163":"鹰潭市","164":"赣州市","165":"吉安市","166":"宜春市","167":"抚州市","168":"上饶市"},"15":{"169":"济南市","170":"青岛市","171":"淄博市","172":"枣庄市","173":"东营市","174":"烟台市","175":"潍坊市","176":"济宁市","177":"泰安市","178":"威海市","179":"日照市","180":"莱芜市","181":"临沂市","182":"德州市","183":"聊城市","184":"滨州市","185":"菏泽市"},"16":{"186":"郑州市","187":"开封市","188":"洛阳市","189":"平顶山市","190":"安阳市","191":"鹤壁市","192":"新乡市","193":"焦作市","194":"濮阳市","195":"许昌市","196":"漯河市","197":"三门峡市","198":"南阳市","199":"商丘市","200":"信阳市","201":"周口市","202":"驻马店市"},"17":{"203":"武汉市","204":"黄石市","205":"十堰市","206":"宜昌市","207":"襄阳市","208":"鄂州市","209":"荆门市","210":"孝感市","211":"荆州市","212":"黄冈市","213":"咸宁市","214":"随州市","215":"恩施土家族苗族自治州"},"18":{"216":"长沙市","217":"株洲市","218":"湘潭市","219":"衡阳市","220":"邵阳市","221":"岳阳市","222":"常德市","223":"张家界市","224":"益阳市","225":"郴州市","226":"永州市","227":"怀化市","228":"娄底市","229":"湘西土家族苗族自治州"},"19":{"230":"广州市","231":"韶关市","232":"深圳市","233":"珠海市","234":"汕头市","235":"佛山市","236":"江门市","237":"湛江市","238":"茂名市","239":"肇庆市","240":"惠州市","241":"梅州市","242":"汕尾市","243":"河源市","244":"阳江市","245":"清远市","246":"东莞市","247":"中山市","248":"东沙群岛","249":"潮州市","250":"揭阳市","251":"云浮市"},"20":{"252":"南宁市","253":"柳州市","254":"桂林市","255":"梧州市","256":"北海市","257":"防城港市","258":"钦州市","259":"贵港市","260":"玉林市","261":"百色市","262":"贺州市","263":"河池市","264":"来宾市","265":"崇左市"},"21":{"266":"海口市","267":"三亚市","268":"三沙市"},"22":{"269":"重庆市"},"23":{"270":"成都市","271":"自贡市","272":"攀枝花市","273":"泸州市","274":"德阳市","275":"绵阳市","276":"广元市","277":"遂宁市","278":"内江市","279":"乐山市","280":"南充市","281":"眉山市","282":"宜宾市","283":"广安市","284":"达州市","285":"雅安市","286":"巴中市","287":"资阳市","288":"阿坝藏族羌族自治州","289":"甘孜藏族自治州","290":"凉山彝族自治州"},"24":{"291":"贵阳市","292":"六盘水市","293":"遵义市","294":"安顺市","295":"铜仁市","296":"黔西南布依族苗族自治州","297":"毕节市","298":"黔东南苗族侗族自治州","299":"黔南布依族苗族自治州"},"25":{"300":"昆明市","301":"曲靖市","302":"玉溪市","303":"保山市","304":"昭通市","305":"丽江市","306":"普洱市","307":"临沧市","308":"楚雄彝族自治州","309":"红河哈尼族彝族自治州","310":"文山壮族苗族自治州","311":"西双版纳傣族自治州","312":"大理白族自治州","313":"德宏傣族景颇族自治州","314":"怒江傈僳族自治州","315":"迪庆藏族自治州"},"26":{"316":"拉萨市","317":"昌都市","318":"山南地区","319":"日喀则市","320":"那曲地区","321":"阿里地区","322":"林芝市"},"27":{"323":"西安市","324":"铜川市","325":"宝鸡市","326":"咸阳市","327":"渭南市","328":"延安市","329":"汉中市","330":"榆林市","331":"安康市","332":"商洛市"},"28":{"333":"兰州市","334":"嘉峪关市","335":"金昌市","336":"白银市","337":"天水市","338":"武威市","339":"张掖市","340":"平凉市","341":"酒泉市","342":"庆阳市","343":"定西市","344":"陇南市","345":"临夏回族自治州","346":"甘南藏族自治州"},"29":{"347":"西宁市","348":"海东市","349":"海北藏族自治州","350":"黄南藏族自治州","351":"海南藏族自治州","352":"果洛藏族自治州","353":"玉树藏族自治州","354":"海西蒙古族藏族自治州"},"30":{"355":"银川市","356":"石嘴山市","357":"吴忠市","358":"固原市","359":"中卫市"},"31":{"360":"乌鲁木齐市","361":"克拉玛依市","362":"吐鲁番市","363":"哈密地区","364":"昌吉回族自治州","365":"博尔塔拉蒙古自治州","366":"巴音郭楞蒙古自治州","367":"阿克苏地区","368":"克孜勒苏柯尔克孜自治州","369":"喀什地区","370":"和田地区","371":"伊犁哈萨克自治州","372":"塔城地区","373":"阿勒泰地区"},"32":{"374":"台北市","375":"高雄市","376":"台南市","377":"台中市","378":"金门县","379":"南投县","380":"基隆市","381":"新竹市","382":"嘉义市","383":"新北市","384":"宜兰县","385":"新竹县","386":"桃园县","387":"苗栗县","388":"彰化县","389":"嘉义县","390":"云林县","391":"屏东县","392":"台东县","393":"花莲县","394":"澎湖县","395":"连江县"},"33":{"396":"香港岛","397":"九龙","398":"新界"},"34":{"399":"澳门半岛","400":"离岛"},"35":{"401":"海外"}}`
	list := make(map[string]map[string]string, 0)
	_ = json.Unmarshal([]byte(js), &list)

	provinceList := make([]ProvinceItem, 0)
	for i := 1; i <= 34; i++ {
		province := ProvinceItem{
			Id:   fmt.Sprintf("%d", i),
			Name: list["0"][fmt.Sprintf("%d", i)],
			City: make([]CityItem, 0),
		}
		for j := 1; j <= 400; j++ {
			if _, ok := list[fmt.Sprintf("%d", i)][fmt.Sprintf("%d", j)]; ok {
				province.City = append(province.City, CityItem{
					Id:   fmt.Sprintf("%d", j),
					Name: list[fmt.Sprintf("%d", i)][fmt.Sprintf("%d", j)],
				})
			}
		}
		provinceList = append(provinceList, province)
	}

	return provinceList
}

var globalColor = []colorItem{}
var sortedColorByNum = []int{
	49, 26, 2, 42, 88, 37, 16,
	38, 50, 91, 34, 121, 78, 23,
	29, 45, 17, 130, 21, 73, 32,
	106, 10, 102, 53, 104, 9, 18,
	62, 51, 65, 71, 4, 47, 76,
	90, 99, 126, 33, 28, 100, 54,
	36, 113, 52, 98, 69, 83, 15,
	118, 101, 107, 60, 84, 120, 7,
	124, 24, 129, 123, 66, 3, 103,
	94, 48, 87, 43, 41, 70, 77,
	92, 128, 72, 79, 31, 27, 117,
	125, 1, 58, 115, 55, 44, 25,
	39, 35, 40, 96, 110, 105, 97,
	63, 116, 13, 19, 22, 127, 85,
	46, 14, 80, 122, 20, 57, 68,
	111, 8, 82, 75, 95, 109, 64,
	89, 5, 11, 114, 93, 67, 30,
	59, 108, 6, 56, 119, 74, 112,
	61, 81, 12, 86,
}

func init() {
	rand.Seed(time.Now().UnixNano())

	colorjson := `[{"Num":1,"R":192,"G":46,"B":0,"Name":"R/V大红色","Words":["精力旺盛的","进取的","大胆的","跃动的","充满活力的","有生气的","热烈的","朝气蓬勃的","强劲的","动感的","力动的","激烈的","运动的","强烈的","粗狂的","鲜艳的","华丽的","革新的","主动的","绚丽的","热闹的","娇媚的","闲适的","刺激的","坚韧的"],"Comment":"色彩解析：红色的味感形象是辛辣、刺激、味浓有充实感。而且容易让人联想到血、火焰和太阳,因此,红色与日常生活中的吉庆、诅咒、肮脏等形象密切相连。如果同生硬的黑色或蓝色搭配,会呈现活泼,有生气的形象效果,是大胆创新的配色。"},{"Num":2,"R":232,"G":119,"B":17,"Name":"YR/V橘黄色","Words":["热烈的","朝气蓬勃的","快活的","闲适的","热闹的","高兴的","阳光的","有生气的","力旺盛的","跃动的","活跃的","充满活力的","动态的","激烈的","进取的","灿烂的","开放的","愉快的","华丽的","鲜艳的","力动的","动感的","强烈的"],"Comment":"色彩解析： 橘黄色 是水果色,给人以香甜感。常被应用于食品的包装或与食品有关的商品上。若和白色或明快的Y (黄)配色,有快活、休闲之感。橘黄色是暖色、清色,若与冷色的蓝色相配,便更显眼,充满朝气和活力。"},{"Num":3,"R":255,"G":234,"B":0,"Name":"Y/V柠檬黄色","Words":["绚丽的","热闹的","活跃的","动感的","华丽的","大胆的","强烈的","激烈的","充满活力的","运动的","朝气蓬勃的","进取的","跃动的","力动的","刺激的","有生气的","灿烂的","阳光的","高兴的","愉快的","快乐的","风趣的","精力旺盛的"],"Comment":"色彩解析： 柠檬黄色 是清色,闪烁着耀眼的光辉,是华丽的色彩。与其他色相组合,有热闹、醒目之感,即使是暖色色相Y (黃)也有暖和冷之分,香蕉色是暖色,柠檬色是冷色。要想使配色更加清爽,应使用这里给出的黄色;若希望增强轻便感,用充满暖色调的黄色较好。"},{"Num":4,"R":157,"G":200,"B":21,"Name":"GY/V春绿色","Words":["鲜活的","开放的","健康的","热闹的","愉快的","快活的","高兴的","开朗的","孩子气的","阳光的","新鲜的","安稳的","朝气蓬勃的","绚丽的","强烈的","激烈的"],"Comment":"色彩解析：一提到绿色,就意味着 春绿色 。春天是新事物的象征,充满生命气息和活力。若使YR (橙)、Y (黄)GY (黄绿)形成色相的层次感,或者用春绿色进行色彩分隔,那么就能表现出快乐的、热闹的色相效果,如果与Y (黄)或白色搭配,则充满明快的、健康的开放感。"},{"Num":5,"R":0,"G":158,"B":98,"Name":"G/V中绿色","Words":["充满活力的","热闹的","绚丽的","安稳的","有生气的","进取的","力动的","跃动的","动感的","刺激的","鲜艳的","阳光的","健康的","机敏的"],"Comment":"色彩解析：  黄绿色 是日本风格， 蓝绿色 是西欧风格。 黄绿色 有稻田的形象，蓝绿色 具有牧场的形象。安稳、充满活力的形象是这种绿色的个性。而且,绿色能让人联想到润泽。因此,常见于自然食品、健康食品和药品的包装上。若与暖色搭配，则变得艳丽、热闹，让人联想到茁壮成长的生命力，充满着生机与活力。"},{"Num":6,"R":0,"G":156,"B":121,"Name":"BG/V翠绿色","Words":["进取的","动态的","闲适的","运动的","敏锐的","现代的","进步的","跃动的","鲜艳的","迅捷的","机敏的","热闹的","有生气的","绚丽的","刺激的","动感的","力动的","大胆的","强烈的","革新的"],"Comment":"色彩解析：若与冷、硬色组合，会出现精神紧张的敏锐感，有进步性。若与暖色的清色搭配，会增强跃动感和休闲感。若用这种色彩分隔橙色和紫红色，色相会变得特别鲜明、华丽。"},{"Num":7,"R":0,"G":134,"B":168,"Name":"B/V孔雀蓝色","Words":["有生气的","动态的","清冽的","迅捷的","运动的","人工的","跃动的","绚丽的","华丽的","严整的","敏锐的","机敏的","青春的","大胆的","热闹的","刺激的"],"Comment":"色彩解析： B（蓝）色相的蓝是最清澈的色彩，所以有爽快、敏捷感。如果与白色或冷色系搭配，则有敏捷感，与黑色和白色搭配则非常显眼，敏锐，具有人工感。此外，天空的冷蓝色与红色或黄色配色，可以增强对比性，是绮丽、华丽的色相配色。"},{"Num":8,"R":0,"G":93,"B":172,"Name":"PB/V蓝紫色","Words":["迅捷的","充满活力的","机敏的","清冽的","进取的","革新的","有生气的","活跃的","进步的","跃动的","敏锐的","严整的","运动的","动态的","青春的","朝气蓬勃的","强烈的","绚丽的"],"Comment":"色彩解析： 与白色搭配产生速度感，常被用于新干线或喷气发动机上。若与红色组合会增强对比感，但很融洽。若添加暖色系，则会非常有活力，与冷色系用色彩分割进行搭配，则会表现出轻便感。"},{"Num":9,"R":115,"G":64,"B":149,"Name":"P/V紫罗兰色","Words":["娇媚的","刺激的","热烈的","鲜艳的","性感的","富于装饰的","灿烂的","华丽的","强烈的","革新的","高雅的"],"Comment":"色彩解析： 紫罗兰 是一种常见于盆地等光线暗淡地方的色相。紫色是最富有油色感的色相。色相P (紫)的V(锐调)色调靓丽、润泽。因其华丽,所以稍欠优雅感,如果与R (红)或RP (紫红)系搭配,热情、豪华。与金色搭配也很协调。如果调整色调,使其变得不太豪华,也能产生妙趣。 "},{"Num":10,"R":208,"G":5,"B":76,"Name":"RP/V深红色","Words":["刺激的","性感的","热烈的","热闹的","激烈的","绚丽的","华丽的","灿烂的","娇媚的","动力十足的","强烈的","大胆的","华丽的","娇艳的","富于装饰性的","愉快的","快乐的"],"Comment":"色彩解析：深红色特别适合粉红色系的肌肤，因而在欧美备受青睐。激烈、热情的色调华丽又刺激，也是充满感情的色彩，品红色的服装华丽而有魅力，非常性感，及时从远处看也很引人注目。"},{"Num":11,"R":206,"G":69,"B":56,"Name":"R/S洋红色","Words":["娇媚的","丰满的","丰润的","娇艳的","坚韧的","成熟的","浓艳的","热闹的","富于装饰性的","豪华的","主动的","力动的","有活力的","闲适的","粗狂的"],"Comment":"色彩解析：S (强调)色调中的R(红)是浊色调。浊色化的红色能产生物质感,流露出果实成熟、丰富的形象。适合于成熟的包装、有光泽且娇艳的流行服饰或豪华的室内外装饰。同白色和象牙色这样的柔和色相比,与浊色Y (黄)、RP (紫红)、P(紫)搭配,稍显浓艳,但能带来装饰上的丰润感。"},{"Num":12,"R":232,"G":129,"B":0,"Name":"YR/S柿色","Words":["充实的","丰满的","丰润的","浓艳的","力动的","娇媚的","豪华的","高兴的","悠然自得的"],"Comment":"色彩解析：柿色 像熟透的柿子,易引起食欲。 柿色 若与相同的浊色R(红)或RP (紫红 )搭配产生丰润的形象。如果同黑色或或R (红)的Dp (浓调)色调搭配,形成豪华、充实的形象,同时,也能表现出力动的、带有野性色彩的形象效果。与红色或紫色搭配有丰富的、靓丽之感。"},{"Num":13,"R":204,"G":183,"B":0,"Name":"Y/S金色","Words":["豪华的","丰满的","奢华的","充实的","富于装饰性的","丰润的","浓艳的","田园般的","粗犷的","成熟的","华丽的","灿烂的","有亲和力的","进取的"],"Comment":"色彩解析：稻谷成熟时是郁金香色。之所以称其为豪华的 金色  ,是因为它能带来自然的丰富和成熟感,若加上朱红色,具有更加奢侈的充实感,若加上RP (紫红)或P (紫)色相 ,则会产生华丽感,不过,若与茶色系等浊色搭配,能够表现出田园般的,沉稳的秋季形象。"},{"Num":14,"R":128,"G":188,"B":0,"Name":"GY/S草绿色","Words":["运动的","明快的","鲜艳的"],"Comment":"色彩解析：明快、鲜艳的 春绿色 一旦暗淡了,就失去了新鲜感。但是,浊色化的S (强调)色调抑制了V (锐调)色调的鲜艳,有新茶的味道和稳重感。 草绿色 介于 春绿色 和 苔藓绿色  (GY/Dp )或 树叶绿色  (GY/DI )之间使用频率不像以前那么高了。"},{"Num":15,"R":0,"G":165,"B":103,"Name":"G/S孔雀绿色","Words":["朝气蓬勃的","安稳的","热闹的","新鲜的","青春的"],"Comment":"色彩解析：孔雀绿色是浊色,不过它的冷感让人感到清新。若添加同系色或冷色会增加安全感。若插入柔和的 Y (黄)色,则会增添朝气与活力。为了增强活力,可以突出暖色系。也能够调配出热带温泉的气氛。"},{"Num":16,"R":0,"G":167,"B":141,"Name":"BG/S宝石绿色","Words":["革新的","机敏的","动态的","运动的","敏锐的","刺激的"],"Comment":"色彩解析：如果用清色进行三色配色,色相BG (蓝绿)能显示出整洁美。虽然S (强调)色调是华丽的,但因其是浊色,则显得沉闷、不干净。但是,这种宝石绿属于冷色系,不像暖色系那样暗淡。它与明灰色的搭配特别融洽,体现出时尚感。与暖色搭配时,因出现了相同色相的对照,则特别明显、刺激、鲜艳。"},{"Num":17,"R":0,"G":148,"B":172,"Name":"B/S湖蓝色","Words":["青春洋溢的","闲适的","青春的","洒脱的","现代的"],"Comment":"色彩解析：蓝色系与其他色系相比,清色和浊色的色调没有明显的区别,所以,S (强调)色调与V(锐调)色调的形象相似,正因为如此,同S (强调)色调相比更愿意使用属于清色的V (税调)色调,这种湖蓝色 如果与冷色配色,则变得时尚、漂亮、素朴,运用色影渐变的色调配色也很舒畅。"},{"Num":18,"R":50,"G":113,"B":174,"Name":"PB/S宝石蓝色","Words":["青春洋溢的","青春的","理性的","清朗的","严谨的","闲适的","都市气息的","洒脱的","合理的","清雅的","安稳的"],"Comment":"色彩解析： 宝石蓝色 是经丝绸之路传来的,它具有把理想寄托于未来、充满希望的文化性色彩形象.。该色彩给人一种理性的、严肃的、有知识的印象。常作为房屋内外的标记或商务领域的强调色,流露出时髦的感觉,若与明快的黄色组合,给人以青春和朝气,能将东方人的肤色村托得特别漂亮,因此成为服装流行款式的基本色."},{"Num":19,"R":125,"G":81,"B":148,"Name":"P/S青莲色","Words":["华丽的","秀丽的","性感的","魅惑的","优美的","娇艳的","高贵的","高雅的","鲜艳的","奢华的","古风的"],"Comment":"色彩解析：S (强调)色调的紫色,没有V (锐调)色调鲜艳,但仍然不失为一种鲜艳的、有精心制作感觉的雅致色彩。若与冷色系搭配,能表现出自古以来被作为尊贵色的紫色的高贵和受尊重的形象,也有传统性的优质感。若添加RP (紫红)或R (红) ,可营造出美感,能够表现出充满魅力的华丽气氛。"},{"Num":20,"R":194,"G":78,"B":120,"Name":"RP/S梅红色","Words":["富于装饰的","娇艳的","秀丽的","魅惑的","华丽的","丰润的"],"Comment":"色彩解析： 比 深红色 稍暗色的 梅红色 因其发暗,所以显得娇艳和不可思议。为表现其光泽感和华丽感,最好与RP (紫红)和P (紫)进行色相搭配,此外,想表示富于装饰性的、豪华的、讲究的感觉时,若添加G (绿)、BG(蓝绿)、B (蓝)等相反色相,会出现复杂的色调."},{"Num":21,"R":215,"G":112,"B":103,"Name":"R/B蔷薇色","Words":["开朗的","风趣的","高兴的","快乐的","阳光的","伶俐的","华丽的","灿烂的","孩子气的","开放的","闲适的","可爱的","青春的","和睦的"],"Comment":"色彩解析：B (明调)色调中的R (红)具有希望之光的形象。闪烁着光芒的 蔷薇色 代表幸福少女的心愿，也称其为宝石色调,是舒畅的、偷悦的色彩。如果和明快的Y (黄)、G(绿)、BG (蓝绿)、B (蓝)搭配,形成伶俐的、爽朗的形象,让人感觉有朝气的蔷薇色具有超越年龄让人心动的魅力。"},{"Num":22,"R":248,"G":184,"B":98,"Name":"YR/B杏色","Words":["有亲和力的","轻松的","愉快的","开放的","活跃的","健康的","闲适的","快活的","充满活力的","青春的","伶俐的","丰润的","柔和的"],"Comment":"色彩解析：橘黄色、柿色、杏黄色是上天恩賜的色彩,是支撑生活的水果色,与浊色的柿色相对应,杏黄色是清色。如果同清色Y (黄)或白色搭配,形成亲和的、轻松的、开朗的形象。如果与R(红)或B(蓝)、PB (蓝紫)配色,能体现年轻人的青春朝气、富有健康的活力。"},{"Num":23,"R":255,"G":236,"B":81,"Name":"Y/B蛋黄色","Words":["阳光的","轻快的","快活的","闲适的","有生气的","跃动的","朝气蓬勃的","开朗的","可爱的","高兴的","有亲和力的","鲜活的","青春的","青春洋溢的","快乐的","孩子气的","开放的","鲜艳的","绚丽的","大胆的","愉快的","风趣的","无忧无虑的","轻松的"],"Comment":"色彩解析：清色Y (黄)中的B (明调)色调富有青春洋溢、轻快、生机勃勃之感.明快色调的Y (黄)让人联想到盛开于山间可爱的花朵.因此若与暖色或冷色的清色搭配,有活力、休闲、和谐的感觉。若与蓝或绿色系的V (锐调)或B (明调)色调配色,则充满弹性的活力。"},{"Num":24,"R":195,"G":217,"B":78,"Name":"GY/B淡草绿色","Words":["新鲜的","有亲和力的","青春洋溢的","安稳的","自由自在的"],"Comment":"色彩解析： 淡草绿色 是代表性的清色,又是B (明调)色调,新鲜且洋溢着青春气息。预告着春天的来临,为我们带来生命气息。在札幌、仙台、金泽等地能经常见到淡草绿色,该颜色温暖、舒畅、有亲和感。在东京等大都市倾向于比GY (黄绿)凉爽、时尚的BG (蓝绿)色。"},{"Num":25,"R":121,"G":195,"B":141,"Name":"G/B祖母绿色","Words":["鲜活的","朝气蓬勃的","快活的","愉快的","阳光的","活跃的","刺激的","新鲜的","青春洋溢的","青春的","水灵灵的","安稳的","高兴的","轻松的","开放的","开朗的","闲适的","绚丽的","鲜艳的"],"Comment":"色彩解析：  祖母绿色 能使易于郁闷的心情变得开朗、轻松、愉快。如果与R（红）、YR（橙）或Y（黄）的清色搭配，能形成活跃的、愉快的氛围，有时略感华丽与刺激。在如果与冷色系或白色搭配，则会非常舒畅、整洁、清爽、新鲜。"},{"Num":26,"R":50,"G":182,"B":160,"Name":"BG/B蓝绿色","Words":["活跃的","清朗的","青春的","进步的","清冽的","阳光的","灿烂的","水灵灵的","青春洋溢的","鲜活的","迅捷的","可爱的","孩子气的","高兴的","清爽的","清静的","安稳的","开放的","闲适的","进取的","人工的","现代的","都市气息的","愉快的","鲜艳的"],"Comment":"色彩解析： 石绿色 指的是蓝宝石的蓝绿。该色具有与汗臭、浓艳感正相反的凉爽、轻快感。如果和冷色搭配,有令人振奋的感觉,如果突出 浅黄色  (Y/P)会增添青春活力。与暖、清色进行的柔和搭配,形成快乐、可爱、孩子气的形象非常受欢迎。"},{"Num":27,"R":93,"G":194,"B":208,"Name":"B/B天蓝色","Words":["清净的","清冽的","开放的","高兴的","快活的","清朗的","青春洋溢的","活跃的","轻快的","迅捷的","机敏的","鲜活的","有生气的","清爽的","水灵灵的","清澈的","新鲜的","健康的","运动的","敏锐的","进取的","热闹的","愉快的","阳光的","青春的"],"Comment":"色彩解析： 天蓝色 与白色或冷色搭配,形成爽快、清晰的印象,可以说天蓝色是冷、清色的代表此外,如果与红、橙、黄等配色,则给人一种开放的、快乐的感觉。若与相同的清色配色,会增强清晰的形象,有干净利落感。 天蓝色 和白色的企业色搭配较多,也是因为那种配色能流露出鲜明、轻快的速度感。"},{"Num":28,"R":134,"G":179,"B":224,"Name":"PB/B石蓝色","Words":["进步的","清澈的","清朗的","清爽的","青春洋溢的","水灵灵的","新鲜的","清冷的","快活的","洒脱的","进步的","迅捷的","敏锐的","清冽的","青春的","闲适的","高兴的","风趣的","可爱的"],"Comment":"色彩解析： 鼠尾草  开盛花,属紫苏科,在西欧将其叶子称为鼠尾草,此外,鼠尾草花开时间长,花色娇嫩、清澈,非常吸引人。它是一种非常受人们喜欢的清色。这种色彩纯洁又富有朝气的印象给人充满理想的进步感。若与暖色系的清色搭配,其快活的、闲适的、愉快的形象特别受欢迎。"},{"Num":29,"R":187,"G":161,"B":203,"Name":"P/B淡紫色","Words":["魅惑的","性感的","秀丽的","灿烂的","娇艳的","华丽的","现代的","有品位的","华美的"],"Comment":"色彩解析：  淡紫色 也不像蔷薇色那样舒畅,欠缺像 蓝绿色 那样的爽快感,不过,该色彩残存着明快的光辉,在华丽中不失美质。作为香料用的 薰衣草 花遍地开放时,具有无可比拟的优雅。与RP (紫红)或P B (蓝紫)的搭配非常融洽,若与明快色调的暖色组合,会给人幸福的、轻快的印象。"},{"Num":30,"R":240,"G":145,"B":167,"Name":"RP/B桃红色","Words":["愉快的","快乐的","高兴的","孩子气的","魅惑的","性感的","可爱的","灿烂的","娇媚的","风趣的","甜美的","伶俐的","阳光的","秀丽的","青春的","人工的"],"Comment":"色彩解析：  玫瑰红 是可爱的、快乐的、舒适的色彩。因为是B (明调)色调,所以有光泽,适合与清色搭配。经常被用在像塑料一样有光泽感和透明感的素材上,充满秀丽的、愉快的、风趣的、开朗的感觉。不过,不仅具有孩子的形象,而且若添加紫色系,就会变得靓丽、辉煌,也能够表达成人气氛。"},{"Num":31,"R":233,"G":174,"B":169,"Name":"R/P粉红色","Words":["可爱的","稚嫩的","孩子气的","甜美的","无忧无虑的","高兴的","大方的","娇美的","家居的","伶俐的","性感的","有情趣的","女性化的","柔软的","坦诚的","单纯的","温柔的","灿烂的","娇媚的"],"Comment":"色彩解析：这是一种生长在南国的火焰鸟的颜色,这种柔和的清色可爱甜美,具有孩子气的感觉,充满梦幻般的温柔。浪漫秀丽的触觉容易激发出好的触感和味感,并变得柔和.如果同白色,明快的Y (黄)及G (绿)、 BG (蓝绿)配色,有引发孩子们梦想的形象效果.如果同柔和的R (红)、RP (紫红)组合,变得稳重宁静、娇柔。"},{"Num":32,"R":250,"G":206,"B":167,"Name":"YR/P夕阳色","Words":["轻松的","有亲和力的","自由自在的","开朗的","悠然自得的","家居的","无忧无虑的","惬意的","大方的","融洽的","稚嫩的","可爱的","甜美的","健康的","孩子气的","单纯的","温和的","温文尔雅的","和平的","高兴的","开放的","和睦的","温柔的"],"Comment":"色彩解析： 夕阳色 是明快的、柔和的清色调。因此，有亲和、舒畅之感。此外,具有家庭的融洽感，是日常生活用品中常见的色彩。如果和明快的色调(B/P/Vp )组合则给人一种爽朗的、轻松的印象。如果添加上同色系的Lgr (淡弱调)或L (弱调)色调，会增添柔和感，形成心神安宁的氛围。"},{"Num":33,"R":255,"G":240,"B":150,"Name":"Y/P浅黄色","Words":["孩子气的","风趣的","愉快的","开朗的","伶俐的","青春的","快乐的","自由自在的","开放的","轻松的","无忧无虑的","闲适的","快活的","轻快的","健康的","青春洋溢的","可爱的","稚嫩的","动态的","阳光的","高兴的","鲜活的","有精神的","单纯的"],"Comment":"色彩解析：随着由V (锐调)向B (明调)、P(淡调)色调的推进,变得激烈、辉煌、鲜艳,增添了朝气和可爱的感觉。形成具有孩子气的形象效果,它柔和、开放、舒畅。若与暖色系的清色组合,会有畅快、健康感,心情也变得快乐,高兴和愉悦起来。若与冷色系的清色或白色配色，洋溢着明快的、清新的、青春的、朝气蓬勃的感觉。"},{"Num":34,"R":189,"G":216,"B":115,"Name":"GY/P莴苣绿色","Words":["充满活力的","自由自在的","鲜活的","健康的","新鲜的","水灵灵的","安宁的","轻松的","青春洋溢的","可爱的","稚嫩的","楚楚动人的","清纯的","高兴的","有亲和力的","悠闲的","清新的","惬意的"],"Comment":"色彩解析：洋名为 生菜色 。它创造出一种凉爽、柔和的氛围，令人舒畅，此外又有娇嫩、生机勃勃的感觉。充分利用嫩绿的新鲜感，与冷色系或白色组合，增添青春气息和娇嫩感。如果在强调部分加上橙色或黄色，体现出轻松、生机勃勃的健康感觉。体味到柔和的清新感。"},{"Num":35,"R":158,"G":208,"B":152,"Name":"G/P浅绿色","Words":["伶俐的","风趣的","安稳的","轻快的","清朗的","开放的","新鲜的","惬意的","愉快的","自由自在的","水灵灵的","鲜活的","孩子气的","清纯的","进步的"],"Comment":"色彩解析：  浅绿色 与暖色搭配，充满孩子气和幽默感，心情变得轻松、舒畅、开朗。它所具有的清澈和新鲜的感觉是非常有价值的，如果添加柔和的淡紫色（P/P）或者淡粉色，会形成朴素雅致的印象。适合于秀丽、浪漫、天然的配色，但难以形成稳重的典雅感和时髦的氛围。"},{"Num":36,"R":163,"G":214,"B":202,"Name":"BG/P浅湖绿色","Words":["惬意的","清新的","清静的","清雅的","轻快的","清冷的","风趣的","水灵灵的","健康的","伶俐的","文化气息的","清爽的","清朗的","清澈的","新鲜的","青春的","开放的","无忧无虑的","和平的","孩子气的","自由自在的","清纯的"],"Comment":"色彩解析：清静、清朗的形象吸引着20-40的男女， 正因为如此 ，这种 淡湖绿色 (B/P)的利用率一直很高。浅湖绿色本身很清淡，为体现清澈感，最好与白色和蓝色系组合。如果与明快的Y(黄)或GY(黄绿)配色，会增加一些暖意，流露出旺盛、清爽、惬意的感觉。大概还是以清色色调为中心进行配色的方法更容易有效利用这种色彩。"},{"Num":37,"R":161,"G":216,"B":230,"Name":"B/P淡湖蓝色","Words":["愉快的","清静的","清冷的","清爽的","清新的","轻快的","纯真的","孩子气的","清澈的","清冽的","和平的","洒脱的","清雅的","清朗的","有亲和力的","安稳的","清纯的","潇洒的","家居的"],"Comment":"色彩解析： 淡湖蓝色 给人以清净、清澈、清爽、清新的印象。 让人联想到蓝天、空气、河流、湖泊、海洋等清新的自然环境。与冷色组合，用白色分隔，显得整洁、漂亮。让人有凉风拂面、小溪潺潺的感觉。若与暖色系的清色配色，即轻快，又具有孩子气的纯真，也能表现和平的形象。要特别注意，这种颜色透明感强，很难与浊色融合。"},{"Num":38,"R":188,"G":212,"B":223,"Name":"PB/P浅雾色","Words":["清冷的","清新的","有品位的","纯真的","清静的","洗练的","精美的","清朗的","惬意的","闲适的","严整的","高尚的","抒情的","高雅的","素雅的"],"Comment":"色彩解析：同B (明谓)色调比,P(淡凋)色调能稍稍抑制光泽,显得文雅、洗练。大概是因为它的单纯让人感觉很朴实,因此适合用于高尚、高雅的氛围. PB (蓝紫)与B (蓝)或P (紫)色相搭配显得很协调,若添加白色,能体现清洁、纯真、清爽感,若与明快的暖色搭配,则表现出柔和的悠闲感。"},{"Num":39,"R":214,"G":197,"B":224,"Name":"P/P浅紫色","Words":["清纯的","娇美的","有情趣的","甜美的","秀丽的","抒情的","女性化的","优美的","温柔的","华美的","华丽的","娇媚的","浪漫的","有品位的","童话般的","楚楚动人的","潇洒的","优雅的","高雅的","风趣的快乐的"],"Comment":"色彩解析： 浅紫色 是和服上经常使用的清秀的、风趣的色彩。 丁香 花随着和风微微摇摆，散发着甘美的芳香。在优美的情趣中，心情也变得柔和了。经常被用在女性化的春季流行服装样式上。该色彩秀气、朴素、雅致的印象和柔和感是最值得关注的。利用色彩渐变，在类似色相上微妙地变化色调，能调配出柔和的配色效果。如果进行分隔配色，最好使用Vp(最淡调)色调或明灰色。"},{"Num":40,"R":242,"G":193,"B":209,"Name":"RP/P浅桃红色","Words":["女性化的","楚楚动人的","甜美的","可爱的","伶俐的","纯净的","童话般的","娇美的","温柔的","秀丽的","浪漫的","优美的","优雅的","清纯的","华丽的","灿烂的","魅惑的","性感的","娇艳的","快乐的","有亲和力的","青春的"],"Comment":"色彩解析：  粉红色  (R/P)相比,这种 RP (紫红)的粉红稍带冷感。这种 浅桃红色 色名来源与花名,怜爱且温柔。为了体现单纯、浪漫的形象,与Y (黄)、R(红)的Vp (最淡调)或P (淡调)色调搭配。它柔和的特性很女性化,不过,若稍微往优雅方面移动会变得非常华丽、优美。"},{"Num":41,"R":249,"G":219,"B":216,"Name":"R/VP肉色(婴儿粉)","Words":["甜美的","温和的","纯净的","楚楚动人的","端庄的","柔美的","稚嫩的","坦诚的","和睦的","柔和的","温顺的","柔软的","融洽的","轻松的","温柔的","细腻的","女性化的","可爱的","舒适的","放松的","健康的","温文尔雅的"],"Comment":"色彩解析： 正如色名 婴儿粉 所体现的那样，该色是单纯的、柔和的清色。日本名为淡红色，像樱花使人心情快活一样，这种色彩能营造出甜美、柔和的氛围。如果添加上属于浊色的 浅橄榄灰色 (Y/Lgr)或 鸽灰色 (P/Lgr)，显得素雅、秀气。因其具有极其淡雅的格调，所以不能同强色调融合。能表现人的温柔、单纯细腻、优美等柔和、稳重宁静的形象。"},{"Num":42,"R":252,"G":229,"B":209,"Name":"YR/VP白茶色","Words":["休闲的","融洽的","悠闲的","不加修饰的","随意的","楚楚动人的","温润的","舒适的","家居的","舒服的","悠然自得的","安稳的","柔和的","柔软的","惬意的","坦诚的","无忧无虑的","稚嫩的","童话般的","甜美的","朦胧的","淡泊的","细致的","柔美的","娇柔的","纯净的","细腻的","清纯的","和睦的","和平的"],"Comment":"色彩解析：  白茶色 柔和、融洽。 很久以来，作为日常生活中的基调色，被用于衣、住上。即使现在，也被广泛的运用于同暖色或冷色的柔和色调配色，形成浪漫的、童话般的氛围。或者是制造细腻、自然形象必不可少的色彩。此外，因其具有甜美、令人怜爱的趣味，所以有助于创造家庭的气氛。像白茬头一样，有明快不加修饰的柔和感。生活中，给人一种悠然自得的舒适感。"},{"Num":43,"R":255,"G":249,"B":204,"Name":"Y/VP象牙色","Words":["开放的","自由自在的","稚嫩的","舒适的","有亲和力的","无忧无虑的","悠闲的","坦诚的","大方的","简朴的","和平的","温顺的","柔美的","柔软的","温和的","惬意的","健康的","新鲜的","童话般的","纯净的","淡泊的","朦胧的","可爱的","和睦的","随意的","浪漫的","楚楚动人的","家居的","安稳的"],"Comment":"色彩解析： 象牙色 和 丁香色 都是平民百姓喜欢的颜色。它自然、舒畅、有亲和感，因此，在日常生活中能经常见到。它具有浅淡的、柔和的色调，易与其他色彩搭配。它不像白色那么冷，也不像粉红那样暖它简朴、素雅、 大方、秀气，给人以和平、安闲感。象牙色是童话世界中诱人的色彩，为世界各地所有的人都喜欢的色彩。"},{"Num":44,"R":237,"G":241,"B":187,"Name":"GY/VP浅豆绿色","Words":["安宁的","简朴的","淡泊的","纯净的","安稳的","浪漫的","纯真的","朦胧的","甜美的","楚楚动人的","柔美的","有情趣的","清澈的","新鲜的","和平的","惬意的","融洽的","悠然自得的","自由自在的","不加修饰的"],"Comment":"色彩解析： 浅豆绿色 这种富有安稳、抒情感的色名一直流传下来。它素雅、清澈、单纯，给人以安闲感。G Y(黄绿)比YR(橙)和Y(黄)冷、比B(蓝)和PB(蓝紫)暖。这种淡雅色调，如果与柔和的绿色或冷色搭配显得安稳安全、舒适。此外，如果稍增添些暖色则营造出浪漫情调，富有情趣、温柔、恬淡和怜爱感。"},{"Num":45,"R":202,"G":229,"B":205,"Name":"G/VP石绿色","Words":["水灵灵的","纯净的","清爽的","清新的","清雅的","朦胧的","柔美的","新鲜的","安稳的","惬意的","舒适的","安宁的","安静的","高雅的","潇洒的","自由自在的","孩子气的","浪漫的","楚楚动人的","随意的","细致的","进步的"],"Comment":"色彩解析：清色是具有清洁、爽朗、清澈色调的色彩。在阳光照射下，微微发光，具有蛋白石的透明感。像 石绿色 这样有冷感的G(绿)色相，如果变成极淡的Vp(最淡调)色调，就会显得单纯、柔软、清淡。如果与冷的、柔和的清色搭配，该色彩所具有的神韵栩栩如生。若添加暖、柔色，也能体现温柔和怜爱感。如果使用色彩渐变，通过色调的微妙变化，可以营造出细腻、静寂感。"},{"Num":46,"R":201,"G":230,"B":218,"Name":"BG/VP蛋清色","Words":["清雅的","清净的","清澈的","安稳的","温顺的","柔美的","童话般的","舒展的","清爽的","清新的","青春的","水灵灵的","坦诚的","开放的","舒适的","有情趣的","娇柔的","纯净的","楚楚动人的","自然的","惬意的"],"Comment":"色彩解析：冷、柔的 蛋清色 有安全、素雅的形象,也容易表现出安详感,它具有像果子露一样清爽的色相给人留下干净利落的印象。若与柔和的暖色搭配,会表现一种浪漫的、充满梦想的境界,这种清色色调所具有的清澈和清洁感是最有价值的。"},{"Num":47,"R":212,"G":236,"B":243,"Name":"B/VP淡蓝色","Words":["清爽的","童话般的","清澈的","水灵灵的","清朗的","清雅的","清冷的","纯真的","清纯的","浪漫的","楚楚动人的","清新的","温顺的","安宁的","细致的","淡泊的","清静的","新鲜的","朦胧的","微妙的","有品位的","洗练的","高贵的"],"Comment":"色彩解析： 淡蓝色 是一种比白色还冷的清色。这种色彩和白色及第3个色调的冷、柔色彩结合，能有效地表达出清澈、纯真感。若在纯洁感中略微添加些带有甜味的暖色，就能与童话世界的浪漫、怜爱和朴素、雅致感联系起来。当它与稍硬的色调搭配时，注意不要破坏该色彩柔和、清晰的形象。"},{"Num":48,"R":223,"G":234,"B":240,"Name":"PB/VP淡蓝灰色","Words":["精美的","淡泊的","浪漫的","童话般的","朦胧的","清纯的","随意的","有情趣的","抒情的","洗练的","冷静的","含蓄的","柔美的","细腻的","安稳的","清爽的","敏锐的","迅捷的","都市气息的","洒脱的","正式的"],"Comment":"色彩解析： 深藏蓝色 (PB/Dk)具有浓郁的紫色感觉，而 淡蓝灰色 的色调是明快的。 让人感到微微发紫，是最浅淡的蓝色，营造出浪漫、童话般的情趣。这样的形象虽然很吸引人，但更适合略有色调感的色相P(紫)的明快色或G(绿)、B(蓝)色相相配色。不过若增加对比度，会体现文静的、抒情的柔和感。容易与明快的浊色或灰色配色。"},{"Num":49,"R":232,"G":226,"B":236,"Name":"P/VP粉紫色","Words":["浪漫的","童话般的","甜美的","朦胧的","细致的","微妙的","抒情的","端庄的","优美的","娇美的","雅致的","温柔的","细腻的","女性化的","秀丽的","有情趣的","纯真的","潇洒的","华美的","优雅的","魅惑的","温润的","高兴的"],"Comment":"色彩解析：  粉紫色 是一种容易表现温柔、柔和、纤细形象的颜色,如果与冷色搭配,则具有童话般的抒情感,如果添加暖色,形成甜美、柔和的氛围。使用RP (紫红)、PB (蓝紫)的类似色相,进行统一的色调配色,会出现娇柔的典雅感,要表现细腻、文雅的形象时,最好不要出现对比感。"},{"Num":50,"R":248,"G":232,"B":237,"Name":"RP/VP肉粉色","Words":["楚楚动人的","女性化的","柔软的","细腻的","浪漫的","纯真的","柔美的","纯净的","抒情的","温文尔雅的","坦诚地","温柔的","稚嫩的","童话般的","朦胧的","高兴的","端庄的","有情趣的","优美的","优雅的"],"Comment":"色彩解析：  肉粉色 的色名给人带来温柔、浪漫、纯真、充满梦幻般的氛围。它具有柔软的、细腻的温柔感非常有价值。如果与暖色配色,变得温文尔雅,既能表现出光滑的细腻感,也能感受到春意的、天真的情趣。如果用白色分隔,则会增添洁白无暇的感觉。这些彩色色调很可爱,因而,经常被用于婴儿用品、装饰品和文具。"},{"Num":51,"R":213,"G":181,"B":177,"Name":"R/Lgr粉驼色","Words":["细致的","柔和的","柔软的","温柔的","温润的","端庄的","细腻的","柔美的","温文尔雅的","优美的","怀恋的","悠闲的","幽雅的","含蓄的","雅致的","华美的","女性化的","娇柔的","温和的","坦诚的","温顺的","和睦的","谨慎的","不加修饰的"],"Comment":"色彩解析： 粉驼色 是 华美 中较温文尔雅的颜色。 肉色 是清色,而这种颜色是浊色。但也不失柔和、文雅和滑畅。因而具有洋溢着雅趣的醇雅 ,所以也能与温柔、细腻致密的形象联系起来。这是京都人喜欢的一种细致、优美、含蓄的颜色。"},{"Num":52,"R":213,"G":184,"B":159,"Name":"YR/Lgr淡赭石色","Words":["温和的","悠闲的","舒适的","坦诚的","不加修饰的","温顺的","柔软的","舒服的","融洽的","柔和的","温润的","思念的","大方的","和睦的","温文尔雅的","朴实的","家居的","悠然自得的","自然的","和平的","简朴的","安宁的","自由自在的"],"Comment":"色彩解析：与清色的 白茶色 相对应,  淡赭石色 是微暗的浊色。这是一种自然界中常见的朴实的天然色，它温柔、细腻、融洽。微妙的变换色调,与柔和色调搭配会产生温顺的、温和的、稳重的、宁静的形象效果。能感觉到愉悦和温暖。"},{"Num":53,"R":217,"G":206,"B":166,"Name":"Y/Lgr浅橄榄灰色","Words":["舒适的","放松的","融洽的","悠然自得的","不加修饰的","安宁的","简朴的","悠闲的","朴素的","自然的","温和的","有亲和力的","和睦的","温文尔雅的","大方的","无忧无虑的","柔和的","温顺的","坦诚的","田园般的","和平的","温柔的","古风的"],"Comment":"色彩解析： 浅橄榄灰色 比 象牙色 稍暗,它具有朴实的、不加修饰的、简朴的氛围,因其有凉爽的特点 ,所以给从事职业性工作的繁忙的现代人带来舒适和安闲感,作为安稳、若与YR (橙)或GY (黄绿)色相搭配,能表现融洽的、休闲的感觉。它温和、温柔、轻松、有人情味,含暖意,因此作为室内外装饰性的基调色被广泛利用。"},{"Num":54,"R":184,"G":193,"B":161,"Name":"GY/Lgr浅灰绿色","Words":["自然的","简朴的","自由自在的","安宁的","悠然自得的","田园般的","舒适的","惬意的","温顺的","无忧无虑的","家居的","和睦的","和平的","坦诚的","朴素的","细致的","有品位的","潇洒的","轻松的","健康的","新鲜的"],"Comment":"色彩解析： 浅灰绿色 让人想起 雨不停的下着,在海滨城市里,下着灰绿色的雨 这首歌。江户时代的人们把GY (黄绿)系的浅系色相分成 浅豆绿色 和 浅灰绿色  ,他们非常性感,将这种微妙的清色和浊色的差异,清澈和朦胧的不同,巧妙的用色名区分开来。"},{"Num":55,"R":166,"G":200,"B":176,"Name":"G/Lgr白蜡绿色","Words":["安宁的","简朴的","舒适的","和平的","朴素的","家居的","清澈的","水灵灵的","柔美的","清纯的","抒情的","自然的"],"Comment":"色彩解析： 白蜡绿色 也称 浅雾绿色  .它能给餐桌带来朴素、雅致、舒展的氛围,因此,是适合作台布(桌布)的颜色,对于缺乏绿意的办公室的室内外装饰,如果在强调点上使用这种颜色也是相当有效的。在冷感中,带来愉悦,给人以亲切感。若添加柔和的暖色系,会形成融洽的、柔和的家庭的氛围。"},{"Num":56,"R":154,"G":199,"B":181,"Name":"BG/Lgr灰绿色","Words":["轻松的","有亲和力的","随意的","清雅的","娴静的","舒适的","和平的","温柔的","可爱的"],"Comment":"色彩解析： 灰绿色 没有清洁感，形成非常安静的氛围。体现温柔、和平、舒适的心境。即使是浊色和清色的组合，如果是与暖色的明快色调配色，因其是柔和的搭配，所以也能体现出稳重、宁静的感觉。"},{"Num":57,"R":164,"G":201,"B":204,"Name":"B/Lgr绿灰色","Words":["安静的","清纯的","洗练的","高尚的","高贵的","细致的","温顺的","抒情的","随意的","合理的","敏锐的","都市气息的","惬意的"],"Comment":"色彩解析：与清色的Vp (最淡调)色调具有的可爱感相对应, Lgr (淡弱调)色调具有润泽感,只要稍添加些浊色,就能产生沉稳感,表现出静寂、高尚、洗练、细腻的形象。这种色彩与柔和的色调组合,静寂,秀气,具有抒情性,若与稍硬色调配色,控制色相数量,会增加都市感和高贵感。"},{"Num":58,"R":177,"G":194,"B":204,"Name":"PB/Lgr月光蓝色","Words":["洗练的","微妙的","细致的","含蓄的","安静的","精美的","潇洒的","随意的","文静的","致密的","精确的","都市气息的","高雅的","高贵的","谨慎的","有情趣的","雅致的","不加修饰的","娴静的","知性的","有品位的","幽雅的","素雅的"],"Comment":"色彩解析：所谓微妙的、纤细的、致密的、精密的形象是日本人经过长年累月的学习，从中领悟到的。 月光蓝色 是容易表达出寂静和洗练感的颜色。此外，因属于冷色，让其代替明灰色，最适合用于体现高雅的、稳重的、宁静的、手感柔软的、高质量的表达。如果运用色彩渐变，则会变得静寂、纤细，如果用分隔法搭配，能表现出理智的氛围和都市化的冷感。"},{"Num":59,"R":207,"G":198,"B":204,"Name":"P/Lgr鸽灰色","Words":["抒情的","精美的","微妙的","细致的","端庄的","含蓄的","雅致的","优美的","精致的","风流的","细腻的","温文尔雅的","谨慎的","娇柔的","优雅的","高雅的","魅惑的","有情趣的","有品位的","古风的","温顺的","女性化的","洗练的","都市气息的"],"Comment":"色彩解析： 鸽灰色 因具有Lgr (淡弱调)色调,所以渗透着淡紫色,它能营造出稳重、宁静的典雅感、洗练的时髦感.此外,如果稍加些暖色,会显得温文尔雅;稍搭配些紫色,变得优雅。如果增强温和感,出现风雅的形象。该色适合与灰色搭配,流露出浊色风雅、娴静的美感。"},{"Num":60,"R":221,"G":204,"B":205,"Name":"RP/Lgr淡褐色","Words":["端庄的","有情趣的","优美的","细腻的","华美的","温润的","细致的","有品位的","柔美的","娇美的","优雅的","秀丽的","微妙的","幽雅的","柔和的","女性化的","雅致的","谨慎的","潇洒的"],"Comment":"色彩解析： 淡褐色 是文雅的色彩,既优美又温柔。无论与哪种色彩配色，都有微弱的暗淡感,因而是素雅的色调。几乎不具有充满强烈鼓动性的华丽感。若与Lgr (淡弱调)、Gr (涩调)或Vp (最淡调)色调搭配,会成为轻快的色调配色,会形成秀气优雅、纤细的形象。"},{"Num":61,"R":221,"G":131,"B":123,"Name":"R/L树皮色","Words":["温柔的","和睦的","温润的","温顺的","温文尔雅的","大方的","家居的","闲适的","由情趣的","怀恋的","融洽的","悠然自得的","轻松的","幽雅的","柔和的"],"Comment":"色彩解析：人从自然中能够体验到各种各样的形象。剥开树皮,  树皮色 就显露出来,让人略感温暖。那种温柔、和睦的形象具有家庭的趣味,是大方的色彩。这种色彩与类似色相YR (橙)进行色调配色,产生的形象有温柔感。这种R (红)的同色系给人一种自然接触时的安闲感。"},{"Num":62,"R":219,"G":167,"B":117,"Name":"YR/L丁香色","Words":["家居的","和睦的","放松的","融洽的","温和的","大方的","温文尔雅的","自然的","柔和的","悠闲的","温润的","柔软的","悠然自得的","无忧无虑的","怀念的","和平的","有亲和力的","自由自在的","轻松的","舒适的","朴素的","健康的","坦诚的","田园般的"],"Comment":"色彩解析： 丁香色 是羊毛的颜色。日本名中的 丁香 指的是树,很久以来,一直将丁香花或花蕾用于香料或染料中。让人联想到面包或饼干、树、土或陶器、肌肤等一些自然素材,是日常生活中常见的衣、食、住的基调色。如果用明快的浊色丫 (黄)或GY (黄绿) ,流露出自然之感。"},{"Num":63,"R":182,"G":169,"B":74,"Name":"Y/L芥末绿色","Words":["自然的","放松的","乡土气息的","融洽的","悠然自得的","朴素的","和睦的","田园般的","大方的","温文尔雅的","柔和的","简朴的","清净的","闲适的","轻松的","娇媚的","富于装饰性的"],"Comment":"色彩解析： 芥末绿 也是日常生活中常见的色彩,说起芥末,就让人联想到一种带刺激性的感觉,是自然中常见的稳重宁静且带有乡村风味的朴素色。若与YR(橙)的茶色系配合，会有悠闲的田园般的感觉。此外，若同柔和的同系色组合，具有自然的形象和融洽感,能创造出让人心情平静的配色。"},{"Num":64,"R":157,"G":184,"B":90,"Name":"GY/L嫩绿色","Words":["朴素的","自然的","放松的","田园般的","轻松的","家居的","大方的","悠然自得的","和平的"],"Comment":"色彩解析：目前,室内外装饰方面, Lgr (淡弱调)或L (弱调)色调正在复兴,用有自然感的色彩来进行室内外装修,是想保持心理平衡,在散步、工作的时候,营造出接近自然、悠闲的旋律感。抑制对比性的配色,可以营造出田园生活的舒适感,可以将这种色彩应用到在素材、外形、结构等拘泥于质感的环境中。"},{"Num":65,"R":104,"G":188,"B":104,"Name":"G/L嫩竹绿色","Words":["水灵灵的","新鲜的","健康的","和平的"],"Comment":"色彩解析： 嫩竹绿色 让人想起茁壮成长的竹林,竹子嫩又绿。它将新鲜、健康的形象非常自然地表达出来。如果用白色分隔,则有清淡的娇嫩感。此外,如果进行同系色的色彩渐变配色,能出现像自然界的绿色那样的浓淡效果。如果添加P (紫)或者PB (蓝紫)色相,则产生西欧式氛围。"},{"Num":66,"R":83,"G":181,"B":158,"Name":"BG/L葱绿色(威尼斯绿色)","Words":["文化气息的","水灵灵的","安稳的","新鲜的","清冽的","闲适的","无忧无虑的"],"Comment":"色彩解析：水被认为是文化的象征，这种 葱绿色 看上去好像很娇嫩、温润。如果与白色、绿色系或深蓝色配色，表现出新鲜感和西式形象。此外,如果与暖色搭配,则增强轻松感,变得休闲化。这种稳重、宁静的L(弱调)色调,没有B (明调)色调的光辉,但也是上乘色彩。"},{"Num":67,"R":84,"G":173,"B":185,"Name":"B/L浅湖蓝色","Words":["都市气息的","理性的","清纯的","洒脱的","文化气息的","和平的","神圣的","高雅的","精确的"],"Comment":"色彩解析：如果清色的P (淡调)变淡,将会变成浊色的L (弱调)色调,不过,在冷色相上没有大的形象变化只是,稍显趣味性,洋溢着雅趣。此外,也会从洗练感向俏皮感变化。  浅湖蓝色 与色相P (紫)组合,非常潇洒。如果与同色系中的硬色搭配,会增强精密、理性性的感觉。"},{"Num":68,"R":133,"G":166,"B":202,"Name":"PB/L蓝灰色","Words":["有品位的","清澈的","洒脱的","都市气息的","理性的","雅致的","秀丽的","洗练的","合理的","高雅的","高尚的","高贵的","神圣的","高兴的"],"Comment":"色彩解析： 蓝灰色 也是清新的、充满文雅魅力的色彩。如果与白色、明灰色搭配,能够体现朴素。有品位的雅趣。此外,它与色相P (紫)很协调,因而可以用其表达一种清澈、风雅的世界 蓝灰色 容易与冷色系色调配色,如果与P(紫)和RP (紫红)系的色彩进行协调的搭配,能表现出洗练的、优雅的感觉。"},{"Num":69,"R":177,"G":148,"B":190,"Name":"P/L紫丁香色","Words":["优雅的","雅致的","优美的","女性化的","温柔的","娇美的","潇洒的","华丽的","魅惑的","有情趣的","有品位的","端庄的","清纯的","精美的","娇媚的"],"Comment":"色彩解析：有首名为《紫丁香(英语为lilac,意思是淡紫色)花开的时候》的法国民歌,这个 紫丁香色 色名包括的范围很广。它给人风雅的、潇洒的感觉。若与RP (紫红)组合,适当地增添了甜美感,形成温柔的印象,产生娇柔的氛围,如果色调增强会变得挥煌、华丽。如果与冷色搭配,能表现出舒畅的、朴素雅致的清爽感."},{"Num":70,"R":208,"G":156,"B":164,"Name":"RP/L兰花色","Words":["优雅的","优美的","娇艳的","秀丽的","温柔的","娇美的","怀恋的","魅惑的","伶俐的"],"Comment":"色彩解析： L(弱调)色调具有典雅感,特别是RP (紫红)的 兰花色 最优美,具有自然美的蓝色圆润、温柔。如果与同色系的Vp (最淡调)或P (淡调)色调搭配,会变得温存、娇柔,若加入Gr (涩调)色调,会营造出宁静的情感。进行色调配色也是很有效的。"},{"Num":71,"R":156,"G":125,"B":123,"Name":"R/Gr灰红色","Words":["精致的","怀恋的","温文尔雅的","细腻的","有情趣的","雅致的","华美的","幽雅的","深邃的","古风的","乡土气息的","娴静的","萧瑟的","成熟的","怀旧的","温柔的","温润的","稚嫩的","大方的","优美的","娇艳的"],"Comment":"色彩解析：如果灰色中稍带红色,就给人温暖的感觉,这种淡红色是稳重的浊色,因此难以同清色搭配,不过若与同是浊色的Lgr(淡弱调)或L (弱调)色调组合会带来漂亮、古风,或温文尔雅、雅致的趣味.如果将浊色色调的明快度按Lgr (淡弱调)-Gr (淀调)一DI (钝调)进行微妙的变化,那么就能够表现出静寂、古旧和思令感。"},{"Num":72,"R":164,"G":139,"B":120,"Name":"YR/Gr茶灰色","Words":["幽雅的","精致的","乡土气息的","萧瑟的","质朴的","素雅的","娴静的","古风的","深邃的","潜心的","怀旧的","独到的","温文尔雅的","温润的","有情趣的","谨慎的","温和的","朴素的","坚实的","怀念的","成熟的","洗练的","文化气息的"],"Comment":"色彩解析：Gr (涩调)色调是让人有舒雅感觉的色彩,这种 茶灰色 给人一种朴素的带有乡村风味的印象。为激发意趣,可以在色彩渐变上微妙地改变浊色色调,或在分隔上减少色调差。这种颜色之所以具有风情感,是因为它是从晚秋到冬季的日本风土色。"},{"Num":73,"R":153,"G":128,"B":88,"Name":"Y/Gr褐色","Words":["朴素的","质朴的","风流的","坚实的","素雅的","萧瑟的","娴静的","考究的","古风的","怀恋的","乡土气息的","深沉的","幽雅的","潜心的","怀旧的","独到的","正宗的","有情趣的","深邃的","洗练的","有格调的","绅士的","正式的"],"Comment":"色彩解析：它的传统色名 铁灰色 是一种极其含蓄的日本称呼。将Y (黄)色系也变成Gr (涩调)色调,就没有黄色感觉了。朴素且俭朴,古风且雅素。冬季风量中常见到这种枯黄的色调,常与灰色或浊色组合,产生风雅感。为了体现静寂感,适当地变化色彩的层次,如果用该色彩分隔两种暗淡色彩,会产生风格独特的时髦感。"},{"Num":74,"R":136,"G":142,"B":100,"Name":"GY/Gr秋香绿色","Words":["田园的","娴静的","风流的","朴素的","乡土气息的","谨慎的","幽雅的","素雅的","古风的","简朴的","田园般的","传统的","萧瑟的","深沉的","有情趣的","自然的","充实的","锤炼的","古典的","考究的"],"Comment":"色彩解析：在日本,人们喜欢朴素的、带有乡村风味的色彩。不追求华丽,而更重视微妙感,即使青年人,也钟情于Gr (涩调)色调。也许素雅的色调,更接近于自然。如果想体味幽雅的、古风的趣味,可以和灰色搭配,再添加些紫色。 秋香绿色 若与茶色系组合,则有古典的传统感,并且流露出朴素的温和感。"},{"Num":75,"R":118,"G":146,"B":126,"Name":"G/Gr浅叶色","Words":["都市气息的","安静的","娴静的","素雅的","洒脱的","风流的","平和的","潇洒的"],"Comment":"色彩解析：  浅叶色 带有暗影的色彩,失去了原色调的细腻和微妙的神韵。这种 浅叶色 像薄雾或烟雾朦胧的绿色一样朴素,但又带有安静的风雅趣味,它不是令人厌烦的色彩,若与浊色搭配,会让心情变得平静。它具有风雅感,就像在清静的空间里凝视着自己喜欢的陶瓷器一样。它自然、洗练,同时也能体现漂亮、潇洒和时髦的形象。"},{"Num":76,"R":129,"G":157,"B":142,"Name":"BG/Gr云杉绿色","Words":["知性的","高尚的","合理的","理性的","精确的","细腻的","都市气息的","精致的","潇洒的","运动的","考究的","风流的","随意的","幽雅的","素雅的","安静的","和平的"],"Comment":"色彩解析：叶子表面沐浴在阳光中,非常有光泽,但叶子背面因得不到阳光照射,变得绪淡。 云杉绿色 带有淡的阴暗感,具有纤细的色调,蕴藏着沉静的情感。它高尚、理智、漂亮、潇洒。是都市人容易接受的色彩,洗练的Gr (涩调)色满保守、舒雅,因为有润泽感,所以适合与柔和的灰色或稍硬的紫色搭配,给人留下高贵感。"},{"Num":77,"R":114,"G":139,"B":141,"Name":"B/Gr青灰色","Words":["精确的","知性的","安静的","谨慎的","高尚的","风流的","冷静的","致密的","有格调的","神圣的","漂亮的","潇洒的","肃穆的","严谨的","都市气息的","文化气息的"],"Comment":"色彩解析： 青灰色 也有些发暗,多同具有暗淡色调的颜色配色,整体上是洗灰色,流露出冷静、内审的色调上面九种配色是相似的,但仍存在着微妙的不同,运用色影渐支好像加深了寂静感,也具有沉着,病泽的印象。虽不是特别明显的分隔,但能成功传达理智的、精老的感觉,如果稍变硬,也能体现庄严的格碼。"},{"Num":78,"R":139,"G":147,"B":157,"Name":"PB/Gr中灰蓝色","Words":["精美的","有品位的","精致的","洗练的","都市气息的","谨慎的","庄严的","微妙的","精确的","素雅的","风流的","优雅的","华美的","高贵的","理性的","洒脱的","致密的","现代化的","雅致的","随意的","娴静的","安静的","高尚的","正式的"],"Comment":"色彩解析：为了表达风雅的趣味,可以使用这种 中灰蓝色  。如果在色调配色上进一步洗练化,会增加微妙的神韵,表现出典雅和精致。缓慢变化的色彩渐变显得很融洽,即使是色彩分隔也能减弱对比感,从而保持了稳静。外形和质感都适合于这种文雅感搭配。若与硬色搭配,能体现出高雅和庄严,让人心情平静。"},{"Num":79,"R":130,"G":123,"B":133,"Name":"P/Gr紫灰色","Words":["有品位的","潇洒的","华美的","雅致的","优雅的","洗练的","微妙的","高雅的","优美的","端庄的","漂亮的","素雅的","谨慎的","高尚的","古风的","含蓄的","有情趣的","庄严的","魅惑的"],"Comment":"色彩解析：这种 紫灰色 也能让人体味到漂亮的、沉静的感觉。如果能从素材或色彩上追求成熟文化的微妙神韵,那么,这种色彩所蕴藏的古雅和幽邃情趣大概也能引起人们的共鸣。在不是无机性的灰色而是有紫色感的灰色上,也许会看出洗练的高雅或传统的妙处。"},{"Num":80,"R":153,"G":125,"B":130,"Name":"RP/Gr豆沙色","Words":["优雅的","古风的","雅致的","华美的","谨慎的","有情趣的","幽雅的","微妙的","深邃的","精致的","风流的","高雅的","高贵的","娇艳的","温柔的","温润的"],"Comment":"色彩解析：与Vp (最淡调) , Lgr (淡弱调)色调对比, Gr (涩调)色调非常硬,增强古风感,会表现出时髦古典的形象。能让人感受到微弱的色泽,具有纤细的、微妙的色调,所以能够表现出幽雅的华丽感。作为带有粉红色的灰色,在室内外装饰灯方面,用樱灰色来衬托其他色彩。因其是能营造出恬静、古雅的朴素色,因此用相同浊色配色,容易体现优质感。"},{"Num":81,"R":161,"G":83,"B":76,"Name":"Y/Dl赭石色","Words":["深邃的","成熟的","怀念的","潜心的","丰润的","娇艳的"],"Comment":"色彩解析：如果将R (红)或YR (橙)、丫(黄)或GY (黄绿)等浊色色调与这种古典绛紫色搭配在一起的话就能够表现出圆熟且颇有风趣的形象效果。如果用于女性时装上,能感受到光泽感和趣味性,产生令人留恋的成熟效果。对于男性来说,同藏青或深沉的绿色搭配,会产生富有情趣的侠气感。"},{"Num":82,"R":168,"G":110,"B":53,"Name":"YR/Dl驼色","Words":["传统的","古典的","潜心的","乡土气息的","深邃的","怀恋的","萧瑟的","田园般的","大方的","健壮的","有亲和力的","温柔的","丰满的","丰润的","充实的","锤炼的","朴素的","古风的","幽雅的"],"Comment":"色彩解析： 驼色   驼毛色 在明治时期被知识分子当作文明开化的象征之一,它原本是一种带有乡土风味的颜色,不过很适合背心、马甲等,如果搭配得当的话,会很有侠气感,若用在质地好的皮革、编织和布料上,则会产生时尚的高级感若加上生硬的Dk (暗调)或Dgr (最暗调)色调,则会表达出一种古典、传统感。"},{"Num":83,"R":161,"G":140,"B":26,"Name":"Y/Dl茶绿色","Words":["田园的","乡土气息的","萧瑟的","怀恋的","古典的","潜心的","怀旧的","深沉的","成熟的","充实的","朴实的","娴静的","考究的","微妙的","幽雅的","坚实的","深邃的","悠然自得的","锤炼的","自然的","奢华的","潇洒的"],"Comment":"色彩解析：随着Y (黄)系色彩的硬化,会稍带青色,给人接近GY (黄绿)色相的印象。它具有乡土气息的素雅感,与具有田园风味的茶绿色进行色调配色,特别强调稳重、宁静的感觉.因其含有微妙的味感,所以蕴藏着怀旧的、古典的、潜心的等成熟的形象,本身所具有的陈旧,流露出缅怀和优质感,让人联想到深秋。"},{"Num":84,"R":115,"G":145,"B":62,"Name":"GY/Dl树叶绿色","Words":["粗犷的","潜心的","萧瑟的","田园般的"],"Comment":"色彩解析：Gr (涩调)色调和DI (钝调)色调能让人感受到微弱的色调,更好地流露出素材的质感。它是朴素的色彩,有天缘感觉,但是觉得过于土气,让人想起枯黄的草。弱国保守地加以利用,能体现出日本式的乡士气息。与红茶或茶色组合会增强暖感,形成粗犷的形象效果。"},{"Num":85,"R":33,"G":129,"B":96,"Name":"G/Dl墨绿色","Words":["安静的","风雅的"],"Comment":"色彩解析： 这种 墨绿色 安静的、风雅的色相大概适合日本人的感性。如果与紫色搭配,具有趣味性,变得潇洒。据说,在中国常常把有深意的翡翠绿带在身上,作为能带来幸运的护身符。这种色彩若与暖色系组合,有丰硕、复杂和经过精心制作的感觉。如果灵活运用色调感觉,将其变成冷色调,也能够表现出理性的形象效果。"},{"Num":86,"R":0,"G":121,"B":108,"Name":"BG/Dl老绿色","Words":["富于装饰的","致密的","现代的","洒脱的"],"Comment":"色彩解析：这种色彩虽标注蓝色名称，但看上去更像绿色，色彩浓，很有个性。通过色相搭配，能表现出不可思议之感和很爱打扮的时髦之感。若与冷色系搭配，会增强漂亮，时尚的氛围。"},{"Num":87,"R":0,"G":126,"B":143,"Name":"B/Dl深青灰色","Words":["洗练的","知性的","致密的","合理的","冷静的","精确的","都市气息的","现代的","严整的","严谨的","洒脱的","文化气息的","魅惑的","素雅的","安稳的","高尚的"],"Comment":"色彩解析：这个DI（钝调）色调比（浓调）色调的 钴蓝色 彩度低，所以称其为 深青灰色 。这种颜色的灰色显得很突出，所以，若与明灰色、灰色、暗灰色或黑色搭配，容易体现出明暗的色调感，能产生漂亮的配色。如果用白色分割，则能营造出自由自在的、都是气息的感觉。"},{"Num":88,"R":56,"G":100,"B":135,"Name":"PB/Dl影蓝色","Words":["知性的","安静的","文化气息的","现代的","机敏的","严谨的","安稳的","精致的","洒脱的","都市气息的","潇洒的","理性的","冷静的","现代化的","合理的","致密的","精确的","进步的","正统的","谨慎的","绅士的","神圣的"],"Comment":"色彩解析：普鲁士蓝色与Gr (涩调)的色调相同,带有阴暗感,能让人感受到安静的,文化的气息.在冷的基调上,用明快色分隔,能烘托出现代的、理智的、理性的感觉。如果和白色或R色搭配,会增强对比感,显得严肃,若与灰色或其他的浊色搭配,产生自然的时髦氛围,在稳重,宁静中表达理智的时尚感。"},{"Num":89,"R":120,"G":94,"B":133,"Name":"P/Dl灰茄紫色","Words":["华丽的","高贵的","神圣的","高雅的","高尚的","娇艳的","灿烂的","娇媚的","潇洒的","优雅的","富于装饰性的","豪华的","文化气息的","魅惑的","性感的","华美的","庄严的"],"Comment":"色彩解析： 灰茄紫色 的色名表示从S (强调)到DI (钝调)色调的广泛范围。这种DI (钝调)色调的色彩具有含蓄的雅致感和传统的味感。如果与明灰色或蓝色搭配,形成冷的稳重感,具有文化的氛围。如果加入黑色,就会营造出高雅感,也带有贵重感。"},{"Num":90,"R":144,"G":88,"B":106,"Name":"RP/Dl玫瑰色","Words":["华美的","娇艳的","成熟的","深邃的","奢华的","端庄的","潜心的","丰满的","古典的"],"Comment":"色彩解析：RP (紫红)的DI (钝调)色调同Gr (涩调)色调对比,色泽强,有光泽感和成熟感。但是,不像D p(浓调)色调那样浓艳。此外,与色相P(紫)相比,因加入了红色,所以增加了圆熟感,具有意趣深邃的充实感,运用色彩渐变,用类似色相配色,能够表现出华丽的光泽感。如果运用分隔,会突出强度,光泽感更引人注目。"},{"Num":91,"R":150,"G":40,"B":35,"Name":"R/Dp砖红色","Words":["健壮的","强劲的","丰满的","豪华的","浓艳的","奢华的","成熟的","力动的","坚韧的","粗犷的","富于装饰性的","充实的","精力充沛的","丰润的","娇艳的","华丽的"],"Comment":"色彩解析：用土烧成的砖的颜色具有强有力的健壮的、充满活力的、丰富的感觉,如果和 金色  (Y/S )搭配,会增添客侈、豪华感,如果与相异色相的暗色调搭配,容易表现出装饰上的汰艳及圆熟感,如果和黑色搭配,会变得生硬,从而增强了粗V和力动感。"},{"Num":92,"R":168,"G":92,"B":29,"Name":"YR/Dp茶色","Words":["坚韧的","浓艳的","丰润的","锤炼的","传统的","怀旧的","田园般的","怀恋的","粗犷的"],"Comment":"色彩解析：江户时代,  茶色 被应用于歌舞伎和浮世绘中,非常时髦。这些茶系色彩随着文明开放的进行,被称为 丁香色   驼毛色   棕色  ,广泛应用于衣、食、住上。说起味感,它芳香、浓艳、味美。与红色或深褐色配色,具有大地的博大、粗犷和活力。若与黑色或藏青色组合,形成结实、沉稳的氛围。"},{"Num":93,"R":150,"G":129,"B":32,"Name":"Y/Dp茶褐色","Words":["富于装饰的","奢华的","粗犷的","田园般的","浓艳的","力动的","充实的","乡土气息的"],"Comment":"色彩解析：同 金色 相比,  茶褐色 更富有深意,因此,适合于奢华的、富于装饰性的、精心制作的形象。DP (浓调)色调本身的味感很强、有浓郁的趣味。该色让人感受到苦,辣等调味品的感觉,所以带有粗犷感。若与类似色相的浊色搭配,也能表现出带有乡村风味的田园式的形象效果。"},{"Num":94,"R":87,"G":139,"B":51,"Name":"GY/Dp苔藓绿色","Words":["厚重的","丰满的"],"Comment":"色彩解析：Dp(浓调)色调即使在暗调的色彩中也有彩度,苔藓绿色就是看上去非常鲜艳的色彩。这种苔藓绿色和暖色的S (强调)或Dp浓调色调组合,则形成成熟、丰富的形象效果。若与黑色或冷色系组合,则增加厚重感。运用色彩渐变,在同一色相中配色会产生自然感;如果使用G (绿)色相 ,出现远感,形成雄伟的形象效果。"},{"Num":95,"R":0,"G":118,"B":75,"Name":"G/Dp浓绿色","Words":["粗犷的"],"Comment":"色彩解析：  浓绿色 稍带冷、硬感的深绿色让人想起森林或热带丛林。自然的绿色在色彩渐变上由GY (黄绿)到G (绿)、由明色到暗色的变化很多。如果让其与暖色明显地搭配在一起，会表现出强有力的动感和南方的炎热,形成带有民族特色的、热带的、粗犷的形象。另一方面,如果与灰色或黑色、藏青色搭配,则表现出冷感,而且有坚实的感觉。"},{"Num":96,"R":0,"G":109,"B":97,"Name":"BG/Dp深翠绿色","Words":["粗犷的"],"Comment":"色彩解析： 深翠绿色 具有粗犷的形象。不过,也蕴藏着理智、冷静、庄严和致密,如果与黑或灰色搭配,则有深沉、庄重感。与白、藏青色搭配,很显眼,有理智感。若与暖色搭配,能展现出从休闲到充满个性的民族特色的感觉。若加上紫色，则增加精心制作感。"},{"Num":97,"R":0,"G":93,"B":115,"Name":"B/Dp钴蓝色","Words":["现代化的","精确的","冷静的","革新的","严谨的","健壮的"],"Comment":"色彩解析：这种 钴蓝色 好像包含着暗蓝色 ,它能让人感受到严谨的,正式的感觉,现在也可以用其来表达务实性的,合理的形象.若与冷色配色,运用色彩分隔,显得特别干脆,流露出冷静,革新性和现代感,为表现出个性,可与暖色系组合,来表现异国情趣和野性感。"},{"Num":98,"R":0,"G":66,"B":139,"Name":"PB/Dp普蓝色","Words":["正统的","严整的","合理的","充满活力的","洒脱的","冷静的","严谨的","运动的","机敏的","进取的","致密的","现代化的","安稳的","文化气息的","正式的"],"Comment":"色彩解析：若与暖色系的鲜艳色配色,能够表达出充满华丽感的跃动性。如果用白色或明灰色分隔,与冷色搭配,这种 普蓝色 能表达冷静、认真的形象效果。如图所示白色或接近于白色的N9能发挥对比效果,使人们产生一种考究的、严谨的、合理的感受。"},{"Num":99,"R":96,"G":43,"B":122,"Name":"P/Dp深紫色","Words":["豪华的","奢华的","成熟的","高贵的","娇艳的","灿烂的","娇媚的","华丽的","富于装饰性的","神圣的","热烈的","刺激的","魅惑的","性感的","正式的"],"Comment":"色彩解析：有浓厚色调感的 深紫色 具有紫色相、Dp(浓调)色调,是一种连天鹅绒那样的质感都能感受到的艳丽色彩。该色与暖色配色,出现成熟的充实感,有时也能表现光泽强的靓丽感。如果使用 金色  (Y/S ),会变得豪华。不过,若与冷色系、Dgr (最暗调)色调或黑色配色,能表现出深沉的、高贵的高级感。"},{"Num":100,"R":125,"G":29,"B":61,"Name":"RP/Dp酒红色","Words":["潜心的","丰润的","浓艳的","奢华的","豪华的","成熟的","富于装饰性的","古典的","娇艳的"],"Comment":"色彩解析：比DI (钝调)色调有浓度,也有深度,成熟的味感强,也能让人联想到硕果累累的秋天,适合于编织物或毛衣。如果与金色系搭配,会形成奢华,豪华的形象,若与BG (蓝续)等的暗色调搭配，会流露出装饰上的讲究出装饰上的讲究。"},{"Num":101,"R":133,"G":40,"B":32,"Name":"R/Dk绛红色","Words":["传统的","充实的","怀旧的","古典的","浓艳的","厚重的","丰润的","精力充沛的","成熟的","丰满的","奢华的","庄重的","坚定的","考究的","强劲的","锤炼的","坚韧的","粗犷的"],"Comment":"色彩解析： 绛红色 的色调暗、液,具有厚重的、充实的、传统的印象。此外这种Dk (暗调)色调像看到桃花木家具一样,给人一种古典的印象和商级感.如果同R (红)或Y (黄)的5 (强调)色调组合,会变得浓艳和丰富多彩,对于面向男性的商品或革制品来说,如果和黑色或暗绿色搭配,感觉非常结实,能体现出传统的形象效果。"},{"Num":102,"R":135,"G":80,"B":35,"Name":"YR/Dk烟棕色","Words":["厚重的","坚韧的","锤炼的","庄重的","田园般的","健壮的","古典的","潜心的","充实的","坚实的","传统的","深邃的","怀旧的","丰润的","成熟的","考究的","绅士的","深沉的","强劲的","阳刚的","正宗的","有格调的","浓艳的","丰满的"],"Comment":"色彩解析： 烟色 是日常生活中常见的颜色,富有充实、沉稳感。若与深褐色或黑色配色,在生活中,显得庄重、有威望。若加上英国风味的驼色或棕色,则有一种时髦、厚重感。它既重视传统,同时又把坚实的、精细的雅素感作为基调,具有品质优良的、古典的、稳重的感觉。"},{"Num":103,"R":118,"G":87,"B":27,"Name":"Y/Dk橄榄色","Words":["深邃的","深沉的","传统的","锤炼的","古典的","古风的","怀旧的","潜心的","充实的","粗犷的","严整的","庄严的","坚定的","潜心的","厚重的","庄严的","成熟的"],"Comment":"色彩解析：有素雅、苦涩之感,使人感受到微弱的色泽,是意趣深邃的色调。江户时代把Y (黄)的Dp (浓调 )到Dk(暗调)色调称为 莺哥绿  ,是因为在风花雪月中发现了微妙的自然色。与现在相比,过去的人们过着习以为常的阴郁生活。因此,用适应暗色的眼光,来区分素雅的色相也许更能体味其中的乐趣。"},{"Num":104,"R":69,"G":105,"B":45,"Name":"GY/Dk常青绿色","Words":["坚实的","粗犷的","深邃的","田园般的","古典的","古风的","怀念的","传统的","深沉的","幽雅的","充实的"],"Comment":"色彩解析：这种 常青绿色 有充实的古典氛围,能表现出古风和雅趣,若与明快的茶色配色,会让人感受到幽静田园般的宽广。常青藤绕在红砖洋馆上的景色,具有古典、缅怀的气氛。以这种传统的充实感为基础,如果加上紫色,能够体现出精心制作的高级感。不过,若与暖色系进行对比性配色，会流露出粗犷感。"},{"Num":105,"R":0,"G":92,"B":51,"Name":"G/Dk深绿色","Words":["健壮的","丰满的"],"Comment":"色彩解析： 从西伯利亚上空俯瞰泰加森林(针叶树林地带) ,在冰冷的大地上,大森林的 深绿色 绵延不绝 ,表现出蕴藏着强健与威严的男性形象。如果将这种色彩与R(红)、YR (橙)、 Y(黄)的鲜艳色调或Dp (浓调)色调搭配,产生对比效果,能够表现出丰富和强健的效果。若与茶色系搭配,让人想起德国森林所具有的古朴,实用的氛围。"},{"Num":106,"R":0,"G":82,"B":74,"Name":"BG/Dk深蓝绿色","Words":["潜心的","庄严的","致密的","现代化的","坚韧的"],"Comment":"色彩解析：带有暗淡调的Dk (暗调)色调有精致、讲究的感觉。这种色彩与黑色相比,欠缺浊色具有的时尚感。不过,因其是硬色,本身具有的冷感使配色紧凑流露出精悍。致密感。如果与 金色 和茶色系或暖色系搭配,能表现出民族特色的、精心制作的氛围。若与紫色搭配,会营造出庄严的神的。"},{"Num":107,"R":0,"G":77,"B":92,"Name":"B/Dk深孔雀蓝色","Words":["考究的","理性的","男子汉的","合理的","都市气息的","正统的","严谨的","阳刚的","严整的","有格调的","肃穆的","坚实的","文化气息的","致密的","现代化的","冷静的","运动的","精力旺盛的"],"Comment":"色彩解析：与 钴蓝色 比,色调发暗,变深,进一步增强了凛然,严肃、理智、时聪感,。 深孔雀蓝色 是体现这种冷、硬世界的色彩。如果用柔和的灰色或明快的其他色彩进行分隔配色,有都市化的感觉。若添加华丽的主调色或暖色系,就会使稳重中体现出休闲感。"},{"Num":108,"R":0,"G":57,"B":109,"Name":"PB/Dk深藏蓝色","Words":["敏锐的","严整的","正统的","机敏的","正式的","高贵的","知性的","绅士的","男子汉的","阳刚的","理性的","合理的","精确的","坚实的","考究的","严谨的","动态的","高尚的","正宗的","潜心的","洒脱的","进取的","文化气息的","人工的","冷静的"],"Comment":"色彩解析：与黑色相比,PB (蓝素 )的藏蓝色更加柔和。此外,虽不像黑色那样正式,但在日常生活中经常将其作为准正式色而加以应用。如果与黑色或灰色、茶色配色,则会形成规矩的、诚实的印象, 藏蓝色是古今中外都为人们所喜爱的色彩。"},{"Num":109,"R":77,"G":42,"B":94,"Name":"P/Dk茄紫色","Words":["肃穆的","庄严的","成熟的","传统的","深邃的","富于装饰性的","奢华的","魅惑的","优雅的","丰满的","有格调的","高雅的"],"Comment":"色彩解析： 茄紫色 是稍显硬朗感的紫,略欠优雅或秀气,但却洋溢着古典、传统,成熟的味道.无论与哪种色彩配色都是硬色,具有充实感。在暖色的配色中,流露出古典的沉稳,此外,若将三种色相都加以变化,精心营造某种深度,将成为奢华的,具有装饰性的色彩。"},{"Num":110,"R":99,"G":21,"B":47,"Name":"RP/Dk深酒红色","Words":["充实的","浓艳的","深邃的","成熟的","丰润的","怀恋的","古典的","怀旧的","庄严的","坚定的","强劲的"],"Comment":"色彩解析：Dk (暗调)色调比Dp (浓调)色调有深度,因而更加硬化,意趣深逐,有充实感,也洋溢着庄产的氛围。深藏蓝色(PB/Dk)具有坚实的、真实的印象,这种深酒红色 有自然的、娇媚的深度。若与暖色系组合,具有成熟的、沉稳的、传统的、古典的感觉,为了有效利用该色的坚硬感,希望充分考虑材料的质感。"},{"Num":111,"R":72,"G":16,"B":12,"Name":"R/Dgr栗色","Words":["有格调的","纯正的","怀旧的","庄重的","深沉的","粗犷的","浓艳的","强劲的","独到的","古风的","古典的","绅士的","坚定的","力动的","坚韧的","健壮的","锤炼的","充实的","厚重的","男子汉的","考究的","正宗的","丰满的","幽雅的","思念的"],"Comment":"色彩解析： 栗色 和 褐红色 深受欧美人喜爱。大概是因为在充满格调的形象中能让人体会到绅士所应有的风度。如果同R (红)、YR (橙)、Y (黄)等暖色组合,也能感受到强有力的、充满活力的、粗犷的感觉,另一方面,如果同灰色或藏青色搭配,能够体现出素雅的、真正的绅士风格。"},{"Num":112,"R":73,"G":46,"B":21,"Name":"YR/Dgr深茶色","Words":["坚定的","阳刚的","独到的","传统的","厚重的","怀旧的","坚实的","正宗的","锤炼的","考究的","深沉的","深邃的","精细的","强劲的","坚韧的","粗犷的","有格调的","庄重的","古典的","怀恋的","主动的","力动的","男子汉的","正统的","健壮的"],"Comment":"色彩解析： 深茶色 不是黑色,但接近黑色,也被称为黑褐色,是厚重的颜色。它粗犷的、坚韧的、男子气的形象往往使人联想到武士和骑士。若与暗色调、朴素色调,或者黑色、暗灰色搭配,颇具风格和厚重感。为了不过于压抑,使位于中央部分的浊色稍微明快些会产生分隔的效果。"},{"Num":113,"R":81,"G":53,"B":26,"Name":"Y/Dgr深褐色","Words":["正宗的","考究的","独到的","深邃的","坚定的","庄重的","有格调的","古风的","深沉的","古典的","奢华的","丰满的","潜心的","厚重的","锤炼的","健壮的","绅士的","男子汉的","文化气息的","进步的"],"Comment":"色彩解析： 橄榄褐色 常用于英国的西服套装。这种时髦的、潇洒的色调在整体配色上,具有厚重的、沉稳的、意趣深邃的感觉。若与明快的茶色系配色,形成古典的氛围。与藏青或灰色搭配,能表现出有风格及牢固的存在感。"},{"Num":114,"R":54,"G":68,"B":36,"Name":"GY/Dgr海草绿色","Words":["潜心的","传统的","庄重的","严谨的","坚韧的"],"Comment":"色彩解析： 海草绿色 若与茶色系的暖色搭配,能表现出实用的、庄重的、或者被精细制作过的传统形象,若与灰色或冷色的暗色配色,则会产生严肃感和安定感,因为此色彩容易让人联想到深海和密林的阴暗,所以作为强烈表现粗犷和活力的色彩被充分利用。"},{"Num":115,"R":0,"G":52,"B":30,"Name":"G/Dgr森林绿色","Words":["有格调的","深沉的","厚重的","绅士的","坚实的","坚定的","强劲的","坚韧的"],"Comment":"色彩解析： 森林看上去遥远又朦胧。夕阳西下,夜幕降临时,森林失去了残留的微弱色调,完全融入里 中。色彩消失前的暗浊色,厚重且稳重、宁静。如果添加灰色、深褐色、黑色等,会产生稳固感,营造出时髦的格调,说起味感,让人想到苦涩,不过,食品的包装使用这种颜色,有素雅的高级感。在不抑郁的硬感中能体味到色调的感觉。"},{"Num":116,"R":0,"G":51,"B":47,"Name":"BG/Dgr黑绿色","Words":["厚重的","庄重的","锤炼的","阳刚的","男子汉的","凛然的","绅士的"],"Comment":"色彩解析： 黑绿色 具有厚重,庄严的形象,如果有效利用其冷感,会形成一种凛然的配色。因其给人硬,结实的感觉,所以容易与男性化的形象联系起来。不具备黑色那样的硬感,若与茶色系或灰色搭配,则会表现出古典的沉稳感,并能体现出素雅的时尚感。"},{"Num":117,"R":0,"G":51,"B":62,"Name":"B/Dgr普鲁士蓝色","Words":["考究的","独到的","健壮的","阳刚的","庄重的","厚重的","坚定的","有格调的","庄严的","肃穆的","坚实的","男子汉的","绅士的","奢华的","文化气息的","致密的","精确的","现代化的","进步的"],"Comment":"色彩解析：  普鲁士蓝 原本是有蓝色感觉的颜色,不过,如果比Dgr (最暗调)色调还浓,就难以和黑色区别了。但是,黑色是清色,而Dgr (最暗调)色调在心理上是浊色。同黑色相比,没有硬感,能让人感受到微弱的色泽。它是一种具有风格和时髦感的色彩。"},{"Num":118,"R":8,"G":41,"B":77,"Name":"PB/Dgr黑蓝色","Words":["有格调的","真正的","独到的","绅士的","坚定的","传统的","肃穆的","男子汉的","阳刚的","现代化的","厚重的","庄严的","知性的","坚实的","锤炼的","考究的","精确的","致密的","正统的","合理的","冷静的","洒脱的","严整的","正式的"],"Comment":"色彩解析：包括 黑蓝色 在内的藏蓝色被称作 胜利色  ,是一种表达胜利的色彩。黑色是 静色  ,有悄悄行动的感觉,藏蓝色是 动色  ,有坚韧感。若与其他的暗色调、浊色或灰色搭配,就会创造出坚硬的感觉,从而表达牢固的安定感或格调感。"},{"Num":119,"R":61,"G":41,"B":71,"Name":"P/Dgr黑紫色","Words":["肃穆的","庄重的","锤炼的","凛然的","精力旺盛的","独到的","有格调的","高贵的","庄严的","深邃的","古典的","怀旧的","娇艳的","合理的","现代的","现代化的","坚韧的"],"Comment":"色彩解析： 黑紫色 具有Dgr (最暗调)色调,让人感受到恍惚的光怪陆离,一点也感受不到 藏蓝色 中见到的轻便感。看上去好像很结实,但总觉得带有神秘的氛围。如果与冷、硬色组合,会很具有风格。与冷色系的DI (钝调)色调搭配并用白色分隔,能表现出时尚感。"},{"Num":120,"R":65,"G":9,"B":28,"Name":"RP/Dgr深棕色","Words":["厚重的","正宗的","庄重的","锤炼的","坚实的","庄严的","豪华的","怀旧的"],"Comment":"色彩解析：即使是RP (紫红)色相,如果变成Dgr (最暗调)色调,就会抑制色泽,从而强调暗度,增加厚重 、安定感,这些形象是庄重的、基础的形象配色。因为深棕色 不太正式 洋溢着成熟的魅力,所以能表现出真实的味感。从这样的高格调中,也能流露出高级感或古童的优质感。"},{"Num":121,"R":255,"G":255,"B":255,"Name":"N9.5白色","Words":["清爽的","清澈的","清静的","清雅的","清朗的","纯真的","清冷的","朦胧的","清新的","轻快的","迅捷的","淡泊的","水灵灵的","青春洋溢的","清冽的","运动的","机敏的","革新的","敏锐的","严整的","活跃的","新鲜的","洒脱的","浪漫的","现代的","伶俐的"],"Comment":"色彩解析：白色因其是清晰的、清透的色彩,所以是代表性的清色。如果使用白色,显得整洁,爽朗和干净。如果能巧妙地会利用白色的个性,容易制造出从暖到冷、柔和的配色。红、白、深蓝的三色配色显得华丽。黄、白、蓝的配色显得敏捷。如果与黑色或藏蓝色搭配,也能表现冷、硬感"},{"Num":122,"R":220,"G":221,"B":221,"Name":"N9明灰色","Words":["安静的","冷静的","含蓄的","洗练的","淡泊的","细腻的","端庄的","清纯的","知性的","都市气息的","现代化的","有品位的","细致的","朦胧的","温顺的","随意的","柔美的","有情趣的","柔和的","抒情的","精美的","华美的","正统的","简朴的","严整的","合理的","高尚的","娴静的"],"Comment":"色彩解析：如果往白色中添加哪怕是极其淡薄的暗影,清爽感就会消失,形缴会发生变化。 明灰色 是非常明快的灰色,因而易与Vp (最淡调)或P(炎调)色调搭配,形成朴素维致的形象若与R (红).RP (紫红). P(紫)的浊色搭配,会产生含蓄的,文雅的、有品位的洗练感。它是一种包含理智的、洗练的色调。"},{"Num":123,"R":201,"G":202,"B":202,"Name":"N8银灰色","Words":["人工的","理性的","质朴的","含蓄的","有品位的","细腻的","素雅的","随意的","知性的","合理的","精确的","精致的","风流的","安静的","娴静的","萧瑟的","高尚的","绅士的","现代的","淡泊的","细致的","微妙的","谨慎的","不加修饰的","抒情的","雅致的","柔美的","冷静的","正式的","现代化的","进步的"],"Comment":"色彩解析：银灰色和N9相比,形象看上去没有什么大的变化,最好按照从柔到硬的顺序来观察这种 银灰色 及其配色。渐渐地变得与清色难以搭配,增加了把冷色作为主色调的效果配色和精致的浊色配色。此外,在硬感中,也能表达出理性的、合理性的时尚感觉,要达到灰色的效果,则要注意明度的变化。"},{"Num":124,"R":181,"G":181,"B":182,"Name":"N7深银色","Words":["质朴的","素雅的","正统的","随意的","风流的","精致的","萧瑟的","不加修饰的","谨慎的","朴素的","安宁的","雅致的","微妙的","现代化的","合理的","人工的","安静的","娴静的","幽雅的","简朴的","细致的","含蓄的","温柔的","和平的","文化气息的","肃穆的"],"Comment":"色彩解析：深银灰色比N8 (银灰色)素雅,但是,在这种无彩色的、漂亮的境界下,人们能深深地感受到平静的、朴实的、微妙的神韵。与N8 (银灰色)相比,硬感的扩展好像是日本人在生活上追求古雅和成熟文化的体现。若稍微添加些暖色,能感受到温暖。若与冷色系配色,略有缺乏生机、呆板的感觉。"},{"Num":125,"R":159,"G":160,"B":160,"Name":"N6灰色","Words":["风度翩翩的","质朴的","含蓄的","幽雅的","乡土气息的","绅士的","男子汉的","人工的","理性的","严谨的","正宗的","正式的","不加修饰的","朴素的","风流的","娴静的","萧瑟的","漂亮的","深沉的","安静的","致密的","知性的","简朴的","正统的","微妙的","有品位的"],"Comment":"色彩解析： 如果变成N6 (灰色) ，会进一步失去色泽感。不过,还残留着纤细的感觉。舒雅、带有乡村风味的 、朴素的世界把这种质朴的雅致感作为基调。如果与YR (橙)、Y (黄)、GY (黄绿)色相的朴素的Gr (涩调)或DI (钝调)色彩搭配,容易形成微妙的色调感觉,达到雅致的、枯黄的、安静的境界。"},{"Num":126,"R":137,"G":137,"B":137,"Name":"N5中灰色","Words":["坚定的","阳刚的","正宗的","致密的","正统的","坚实的","素雅的","精致的","有格调的","庄严的","男子汉的","人工的","洗练的","深沉的","肃穆的","独到的","幽雅的","雅致的","古风的","娴静的","现代化的"],"Comment":"色彩解析：如果变成N1.5 (中灰色) ,形象会向冷、硬集中(参照P12-13),随着色彩变暗,只有在茶色系中才能稍感暖意。它让人联想到北国的东景,是雅致的、朴素的色彩。如果与冷色组合,能增强致密的、真实的印象。如果能与强调色搭配得当,那么,比东方人肤色稍暗的这种灰色能够表现出时躯的华丽效果。"},{"Num":127,"R":114,"G":113,"B":113,"Name":"N4烟灰色","Words":["正式的","庄重的","独到的","人工的","致密的","潜心的","肃穆的","坚定的","都市气息的","精致的","精确的","古风的","乡土气息的","幽雅的","素雅的","娴静的","深沉的","绅士的","有格调的","传统的","知性的","合理的","冷静的","现代化的","阳刚的"],"Comment":"色彩解析：法国人喜欢能体现柔和典雅的明快的灰色。德国人则喜欢有稳固感的暗淡的灰色。如果看巴黎和柏林的建筑物,就有那种感觉。即使是石头或土色,也蕴藏着风土感。称N4为烟灰色,会增强致密的印象,也显示出了风格。只是精致的形象不适合放入硬的、正式感的暗灰色,暗灰色大概是容易表现洗练的都市化感觉的色彩。"},{"Num":128,"R":89,"G":87,"B":87,"Name":"N3深灰色","Words":["高尚的","致密的","深沉的","肃穆的","严整的","厚重的","有格调的","安静的","谨慎的","坚实的","洒脱的","现代的","合理的","进步的","现代化的","文化气息的"],"Comment":"色彩解析：使用N3 (深灰色)的配色也有冷、硬感,不过与黑色或N2 (暗灰色)相比即使暗淡也能感受到浊色的神韵。为了体现艰涩的、苦涩的味感,与暗色调或素雅色调的茶色系、绿色系组合,能表现出沉稳、幽玄的形象。如果与冷色、无彩色配色,在色彩渐变上,则会出现微弱的柔和印象。"},{"Num":129,"R":62,"G":58,"B":57,"Name":"N2暗灰色","Words":["正式的","致密的","深沉的","高尚的","肃穆的","严整的","厚重的","有格调的","安静的","谨慎的","坚实的","洒脱的","现代的","合理的","进步的","现代化的","文化气息的"],"Comment":"色彩解析：最接近与黑色的 黑灰色 既残留着暗灰色的个性,有接近具有多样形象的黑色的特性。这种N2 (暗灰色)在配色时,能突出暖色系,扩展暖、硬形象。在冷感中,包含着考究的、现代的、正式的感觉,在与浊色的配色中,显得很结实,作为暗色调,能体现厚重感。"},{"Num":130,"R":35,"G":24,"B":21,"Name":"N1.5黑色","Words":["动感的","强劲的","大胆的","强烈的","肃穆的","神圣的","敏锐的","激烈的","热烈的","现代的","现代化的","人工的","坚定的","正式的","庄严的","严整的","动态的","健壮的","力动的","精力旺盛的","革新的","进取的","坚韧的","锤炼的","厚重的"],"Comment":"色彩解析：黑色能表现白色不能表现的硬的境界,包含有黑色的配色不会出现柔和的区域。黑色能用于流行服饰式样、产品、室内外装饰等所有领域。利用黑色形象的范围很广,特别是能流露出生机、敏锐和力感,具有激烈、强烈、大胆、力动感等所有力量的感觉。"}]`
	allcolor := make([]colorItem, 0)
	_ = json.Unmarshal([]byte(colorjson), &allcolor)
	globalColor = allcolor
}

// rgb转色号
func rgbToNum(rgb string) int {
	var num int = 0
	for _, c := range globalColor {
		if rgb == fmt.Sprintf("rgb(%d, %d, %d)", c.R, c.G, c.B) {
			num = c.Num
			break
		}
	}
	return num
}

// num转rgb
func NumToRGB(num int) (uint8, uint8, uint8) {
	for _, v := range globalColor {
		if num == v.Num {
			return uint8(v.R), uint8(v.G), uint8(v.B)
		}
	}
	return 0, 0, 0
}

// num转rgb
func numToRGB(num int) (uint8, uint8, uint8) {
	for _, v := range globalColor {
		if num == v.Num {
			return uint8(v.R), uint8(v.G), uint8(v.B)
		}
	}
	return 0, 0, 0
}

// num转名称
func numToName(num int) string {
	for _, v := range globalColor {
		if num == v.Num {
			return v.Name
		}
	}
	return "未知颜色"
}

// num转名称
func numToFullName(num int) string {
	for _, v := range globalColor {
		if num == v.Num {
			return cast.ToString(v.Num) + "#" + v.Name
		}
	}
	return "未知颜色"
}

// 将rgb值转为页面样式css中的色值，格式如 #000001
func rgbToHex(r, g, b uint8) string {
	return fmt.Sprintf("#%02X%02X%02X", r, g, b)
}

// ======== 审美数据相关 ========

// SaveAestheticData 保存审美数据
func (s *Service) SaveAestheticData(userID uint, req *AestheticDataRequest) (*AestheticDataRsp, error) {
	// 获取用户信息
	var user User
	if err := s.db.First(&user, userID).Error; err != nil {
		return nil, err
	}

	likedColorNum := make([]int, 0)
	for _, v := range req.LikedColors {
		// 如果没有#说明是色号，不需要转换
		if strings.Index(v, "#") == -1 {
			likedColorNum = append(likedColorNum, cast.ToInt(v))
		} else {
			// 如果有#说明是rgb值，需要转换
			likedColorNum = append(likedColorNum, rgbToNum(v))
		}

	}

	disLikedColorNum := make([]int, 0)
	for _, v := range req.DislikedColors {
		if strings.Index(v, "#") == -1 {
			disLikedColorNum = append(disLikedColorNum, cast.ToInt(v))
		} else {
			disLikedColorNum = append(disLikedColorNum, rgbToNum(v))
		}
	}

	// 序列化数组为JSON字符串
	likedColorsJSON, err := json.Marshal(likedColorNum)
	if err != nil {
		return nil, err
	}

	dislikedColorsJSON, err := json.Marshal(disLikedColorNum)
	if err != nil {
		return nil, err
	}

	likedAdjectivesJSON, err := json.Marshal(req.LikedAdjectives)
	if err != nil {
		return nil, err
	}

	likedImagesJSON, err := json.Marshal(req.LikedImages)
	if err != nil {
		return nil, err
	}

	colorimg := DrawColor(likedColorNum, disLikedColorNum)
	boximg := DrawToBox(req.LikedImages, likedColorNum, disLikedColorNum, req.LikedAdjectives)

	// 创建审美数据记录
	data := AestheticData{
		UserID:          userID,
		Name:            req.Name,
		Gender:          req.Gender,
		Age:             req.Age,
		City:            req.City,
		Phone:           req.Phone,
		LikedColors:     string(likedColorsJSON),
		DislikedColors:  string(dislikedColorsJSON),
		LikedAdjectives: string(likedAdjectivesJSON),
		LikedImages:     string(likedImagesJSON),
		ColorImageURL:   trimBasePath(colorimg),
		BoxImageURL:     trimBasePath(boximg),
	}

	// 保存数据
	if err := s.db.Create(&data).Error; err != nil {
		return nil, err
	}

	commenttxt := mapComment(likedColorNum, req.LikedAdjectives)
	// 返回保存的数据
	return &AestheticDataRsp{
		AestheticData:    data,
		ColorExplorImage: getColorImageURL(colorimg),
		BoxExplorImage:   getBoxImageURL(boximg),
		Comment:          commenttxt,
	}, nil
}

func getColorImageURL(img string) string {
	if strings.Index(img, "/") != -1 {
		return kcfg.GetString("app.global.host") + "/" + img
	}
	return kcfg.GetString("app.global.host") + "/colorimg/" + img
}

func getBoxImageURL(img string) string {
	if strings.Index(img, "/") != -1 {
		return kcfg.GetString("app.global.host") + "/" + img
	}
	return kcfg.GetString("app.global.host") + "/boximg/" + img
}

func getGlobalImageURL(img string) string {
	return kcfg.GetString("app.global.host") + "/imgv2/" + img
}

func genComment(likedColors []int, dislikedColors []int, likedAdjectives []string, likedImages []string) []string {
	// 分数记录，key是boxnum，value是分数
	score := make(map[int]int, 0)

	// 基于likedColors计算分数
	for _, v := range likedColors {
		for _, vv := range globalBox {
			for _, vvv := range vv.Colors {
				if vvv == v {
					if _, ok := score[vv.Num]; ok {
						score[vv.Num] = score[vv.Num] + 1
					} else {
						score[vv.Num] = 1
					}
				}
			}
		}
	}
	// 基于dislikedColors计算分数
	for _, v := range dislikedColors {
		for _, vv := range globalBox {
			for _, vvv := range vv.Colors {
				if vvv == v {
					if _, ok := score[vv.Num]; ok {
						score[vv.Num] = score[vv.Num] - 1
					} else {
						score[vv.Num] = -1
					}
				}
			}
		}
	}
	// 基于likedAdjectives计算分数
	for _, v := range likedAdjectives {
		for _, vv := range globalBox {
			for _, vvv := range vv.Words {
				if vvv == v {
					if _, ok := score[vv.Num]; ok {
						score[vv.Num] = score[vv.Num] + 1
					} else {
						score[vv.Num] = 1
					}
				}
			}
		}
	}
	// 基于likedImages计算分数
	for _, v := range likedImages {
		tmp := strings.Split(v, "-")
		tmpSuffix := tmp[2]
		tmpNum := strings.Split(tmpSuffix, ".")
		boxNum := cast.ToInt(tmpNum[0])
		if _, ok := score[boxNum]; ok {
			score[boxNum] = score[boxNum] + 1
		} else {
			score[boxNum] = 1
		}
	}
	// 找到分数最高的box
	maxScore := 0
	maxBoxNum := 0
	for k, v := range score {
		if v > maxScore {
			maxScore = v
			maxBoxNum = k
		}
	}
	// 找到分数最高的box对应的comment
	comment := ""
	for _, v := range globalBox {
		if v.Num == maxBoxNum {
			comment = v.Comment
			break
		}
	}
	return []string{comment}
}

func mapComment(likedColors []int, likedAdjectives []string) []string {
	comments := make([]string, 0)
	for _, v := range likedColors {
		for _, c := range globalColor {
			if c.Num == v {
				for _, a := range likedAdjectives {
					found := false
					for _, cw := range c.Words {
						if cw == a {
							comments = append(comments, strings.TrimLeft(c.Comment, "色彩解析："))
							found = true
							// 如果匹配成功，直接跳出到倒数第二层循环
							break
						}
					}
					if found {
						break
					}
				}
				break
			}
		}
	}
	if len(comments) == 0 {
		comments = append(comments, "没有找到合适的评论")
	}
	return comments
}

// DrawToBox 将用户所选择的颜色，形容词，图片都合并到抽屉图中
func DrawToBox(likedImages []string, likedColor, dislikedColor []int, words []string) string {
	tempDir := "./"

	// 输入图片路径 (实际使用时请替换为实际图片路径)
	inputPath := filepath.Join(tempDir, "boxbase-6.jpg")

	// 输出图片路径
	outputPath := filepath.Join(tempDir, fmt.Sprintf("boximg/output_%d_%d.jpg", time.Now().UnixNano(), rand.Intn(1000)+9000))

	backgroundImage, _ := GetImageFromFile(inputPath)

	// 1.把图片合并到抽屉图
	//var overlap *image.NRGBA
	/*imagemap := make(map[int][]string, 0)
	for _, img := range likedImages {
		tmp := strings.Split(img, "-")
		tmpSuffix := tmp[2]
		tmpNum := strings.Split(tmpSuffix, ".")
		boxNum := cast.ToInt(tmpNum[0])

		startX := 0
		startY := 0
		//baseStartX := 0
		//baseStartY := 0
		for _, vv := range globalBox {
			if vv.Num == boxNum {
				startX = vv.StartX
				startY = vv.StartY

				//baseStartX = vv.StartX
				//baseStartY = vv.StartY
				break
			}
		}

		// 如果这个box内已有图片了，startx需要向右移动200
		if _, ok := imagemap[boxNum]; ok {
			startX = startX + (len(imagemap[boxNum]) * 200)
		}
		//}

		srcImage, _ := GetImageFromFile("./insimg/" + img)
		overlap = imaging.Overlay(backgroundImage, srcImage, image.Point{startX, startY}, 0.75)
		backgroundImage = overlap
		if _, ok := imagemap[boxNum]; ok {
			imagemap[boxNum] = append(imagemap[boxNum], img)
		} else {
			imagemap[boxNum] = []string{img}
		}
	}
	*/
	_ = imaging.Save(backgroundImage, outputPath)

	// 3.把喜欢的颜色合并到抽屉图
	likedcolormap := make(map[int][]int, 0)
	for _, v := range likedColor {
		for _, vv := range globalBox {
			for _, vvv := range vv.Colors {
				if vvv == v {
					if _, ok := likedcolormap[vv.Num]; ok {
						likedcolormap[vv.Num] = append(likedcolormap[vv.Num], v)
					} else {
						likedcolormap[vv.Num] = []int{v}
					}
				}
			}
		}
	}
	for _, v := range likedcolormap {
		startX := 0
		startY := 0
		for _, col := range v {
			for _, vv := range globalBox {
				for _, vvv := range vv.Colors {
					if vvv == col {
						startX = vv.StartX
						startY = vv.StartY
					}
				}
			}
		}
		for _, col := range v {
			// 画喜欢的颜色，x不变，y增加250
			curY := startY + 10
			r, g, b := numToRGB(col)
			// 画喜欢的颜色，使用矩形
			err := imagex.DrawRectangleOnImage(outputPath, startX, curY, 100, 100, r, g, b, outputPath)
			if err != nil {

			}
			// 如果是多个颜色，x增加100
			startX = startX + 100
		}
	}

	// 4.把不喜欢的颜色合并到抽屉图
	dislikedcolormap := make(map[int][]int, 0)
	for _, v := range dislikedColor {
		for _, vv := range globalBox {
			for _, vvv := range vv.Colors {
				if vvv == v {
					if _, ok := dislikedcolormap[vv.Num]; ok {
						dislikedcolormap[vv.Num] = append(dislikedcolormap[vv.Num], v)
					} else {
						dislikedcolormap[vv.Num] = []int{v}
					}
				}
			}
		}
	}
	for _, v := range dislikedcolormap {
		startX := 0
		startY := 0
		for _, col := range v {
			for _, vv := range globalBox {
				for _, vvv := range vv.Colors {
					if vvv == col {
						startX = vv.StartX
						startY = vv.StartY
					}
				}
			}
		}
		for _, col := range v {
			// 画不喜欢的颜色，x不变，y增加250
			curY := startY + 110
			r, g, b := numToRGB(col)
			// 画不喜欢的颜色，使用矩形
			err := imagex.DrawCrossOnImage(outputPath, startX, curY, 100, 20, r, g, b, outputPath)
			if err != nil {

			}
			// 如果是多个颜色，x增加55
			startX = startX + 100
		}
	}

	// 把关键词合并到抽屉图
	wordmap := make(map[int][]string, 0)
	for _, v := range words {
		for _, vv := range globalBox {
			for _, vvv := range vv.Words {
				if vvv == v {
					if _, ok := wordmap[vv.Num]; ok {
						wordmap[vv.Num] = append(wordmap[vv.Num], v)
					} else {
						wordmap[vv.Num] = []string{v}
					}
				}
			}
		}
	}
	for vnum, v := range wordmap {
		startX := 0
		startY := 0
		for _, vv := range globalBox {
			if vv.Num == vnum {
				startX = vv.StartX
				startY = vv.StartY
			}
		}
		curY := startY + 210
		tmpstring := strings.Join(v, ",")
		imagex.DrawTextOnImage(outputPath, startX, curY, 40, tmpstring, 86, 102, 169, "./msyhbd.ttc", outputPath)
		// 使用freetype将文字写入图片overlap中
	}
	return outputPath
}

func DrawColor(likedColorNum, disLikedColorNum []int) string {
	// 获取临时目录
	tempDir := "./"

	// 输入图片路径 (实际使用时请替换为实际图片路径)
	inputPath := filepath.Join(tempDir, "colorbase-3.jpg")

	// 输出图片路径
	outputPath := filepath.Join(tempDir, fmt.Sprintf("colorimg/output_%d_%d.jpg", time.Now().UnixNano(), rand.Intn(1000)+9000))

	for k, v := range likedColorNum {
		if k > 0 {
			inputPath = outputPath
		}
		xstep := ((v - 1) % 10)
		ystep := (v - 1) / 10
		// 设置矩形参数
		x := 210 + xstep*87 // 矩形左上角x坐标
		y := 306 + ystep*88 // 矩形左上角y坐标
		width := 88         // 矩形宽度
		height := 88        // 矩形高度
		r, g, b := numToRGB(v)
		if ystep >= 12 {
			y = y + 15
		} else if ystep > 8 {
			y = y + 5
		} else if ystep > 6 {
			y = y + 2
		}

		// 画喜欢的颜色，使用矩形
		err := imagex.DrawRectangleOnImage(inputPath, x, y, width, height, r, g, b, outputPath)
		if err != nil {
			fmt.Printf("处理图片时出错: %v\n", err)
			return ""
		}
	}

	for _, v := range disLikedColorNum {

		xstep := ((v - 1) % 10)
		ystep := (v - 1) / 10
		// 设置矩形参数
		x := 210 + xstep*87 // 矩形左上角x坐标
		y := 306 + ystep*88 // 矩形左上角y坐标
		width := 88         // 三角形宽度
		r, g, b := numToRGB(v)
		if ystep >= 12 {
			y = y + 15
		} else if ystep > 8 {
			y = y + 5
		} else if ystep > 6 {
			y = y + 2
		}

		// 画讨厌的颜色，使用三角形
		err := imagex.DrawCrossOnImage(outputPath, x, y, width, 20, r, g, b, outputPath)
		if err != nil {
			fmt.Printf("处理图片时出错: %v\n", err)
			return ""
		}
	}

	return outputPath
}

func trimBasePath(path string) string {
	return strings.Split(path, "/")[1]
}

// GetUserAestheticDataList 获取用户审美数据列表
func (s *Service) GetUserAestheticDataList(userID uint, page, pageSize int) (*PageResponse, error) {
	var total int64
	var list []AestheticData

	// 计算总数
	if err := s.db.Model(&AestheticData{}).Where("user_id = ?", userID).Count(&total).Error; err != nil {
		return nil, err
	}

	// 分页查询
	if err := s.db.Where("user_id = ?", userID).
		Order("created_at DESC").
		Offset((page - 1) * pageSize).
		Limit(pageSize).
		Find(&list).Error; err != nil {
		return nil, err
	}

	result := make([]*AestheticDataRsp, 0)
	for k, v := range list {
		list[k].ColorImageURL = getColorImageURL(v.ColorImageURL)
		list[k].BoxImageURL = getBoxImageURL(v.BoxImageURL)

		tmplikedcolors := make([]int, 0)
		for _, vv := range strings.Split(v.LikedColors, ",") {
			tmplikedcolors = append(tmplikedcolors, cast.ToInt(vv))
		}
		tmpadjectives := make([]string, 0)
		for _, vv := range strings.Split(v.LikedAdjectives, ",") {
			tmpadjectives = append(tmpadjectives, vv)
		}
		comments := mapComment(tmplikedcolors, tmpadjectives)
		result = append(result, &AestheticDataRsp{
			AestheticData: list[k],
			Comment:       comments,
		})
	}

	return &PageResponse{
		List:     result,
		Total:    total,
		Page:     page,
		PageSize: pageSize,
	}, nil
}

// GetAestheticDataDetail 获取审美数据详情
func (s *Service) GetAestheticDataDetail(id, userID uint) (*AestheticDataRsp, error) {
	var data AestheticData
	if err := s.db.Where("id = ?", id).First(&data).Error; err != nil {
		return nil, err
	}
	data.ColorImageURL = getColorImageURL(data.ColorImageURL)
	data.BoxImageURL = getBoxImageURL(data.BoxImageURL)

	tmplikedcolors := make([]int, 0)
	json.Unmarshal([]byte(data.LikedColors), &tmplikedcolors)

	tmpDislikedColors := make([]int, 0)
	json.Unmarshal([]byte(data.DislikedColors), &tmpDislikedColors)

	tmpadjectives := make([]string, 0)
	json.Unmarshal([]byte(data.LikedAdjectives), &tmpadjectives)

	tmpLikedImages := make([]string, 0)
	json.Unmarshal([]byte(data.LikedImages), &tmpLikedImages)

	likedColorDesc := make([]ColorDescItem, 0)
	for _, v := range tmplikedcolors {
		for _, vv := range globalColor {
			if vv.Num == v {
				// 取vv.Words的前5个元素
				tmpwords := make([]string, 0)
				if len(vv.Words) > 5 {
					tmpwords = vv.Words[0:5]
				} else {
					tmpwords = vv.Words
				}
				likedColorDesc = append(likedColorDesc, ColorDescItem{
					Num:   cast.ToString(vv.Num),
					Name:  vv.Name,
					Img:   "", // todo
					Words: tmpwords,
					RGB:   rgbToHex(uint8(vv.R), uint8(vv.G), uint8(vv.B)),
				})
			}
		}
	}
	dislikedColorDesc := make([]ColorDescItem, 0)
	for _, v := range tmpDislikedColors {
		for _, vv := range globalColor {
			if vv.Num == v {
				// 取vv.Words的前5个元素
				tmpwords := make([]string, 0)
				if len(vv.Words) > 5 {
					tmpwords = vv.Words[0:5]
				} else {
					tmpwords = vv.Words
				}
				dislikedColorDesc = append(dislikedColorDesc, ColorDescItem{
					Num:   cast.ToString(vv.Num),
					Name:  vv.Name,
					Img:   "", // todo
					Words: tmpwords,
					RGB:   rgbToHex(uint8(vv.R), uint8(vv.G), uint8(vv.B)),
				})
			}
		}
	}
	lifeImageDesc := make([]string, 0)
	for _, v := range tmpLikedImages[0:6] {
		lifeImageDesc = append(lifeImageDesc, getGlobalImageURL(v))
	}
	areaImageDesc := make([]string, 0)
	for _, v := range tmpLikedImages[4:] {
		areaImageDesc = append(areaImageDesc, getGlobalImageURL(v))
	}

	summary := ""

	boxscoremap := make(map[string]int, 0)
	wordscoremap := make(map[string]int, 0)
	for _, v := range tmplikedcolors {
		// 统计颜色下的形容词
		for _, vv := range globalColor {
			if vv.Num == v {
				for _, vvv := range vv.Words {
					if _, ok := wordscoremap[vvv]; ok {
						wordscoremap[vvv] = wordscoremap[vvv] + 1
					} else {
						wordscoremap[vvv] = 1
					}
				}

			}
		}

		// 统计颜色下的box
		for _, vv := range globalBox {
			for _, vvv := range vv.Colors {
				if vvv == v {
					if _, ok := boxscoremap[vv.name]; ok {
						boxscoremap[vv.name] = boxscoremap[vv.name] + 1
					} else {
						boxscoremap[vv.name] = 1
					}
				}
			}
		}
	}
	for _, v := range tmpadjectives {
		if _, ok := wordscoremap[v]; ok {
			wordscoremap[v] = wordscoremap[v] + 1
		} else {
			wordscoremap[v] = 1
		}
		for _, vv := range globalBox {
			for _, vvv := range vv.Words {
				if vvv == v {
					if _, ok := boxscoremap[vv.name]; ok {
						boxscoremap[vv.name] = boxscoremap[vv.name] + 1
					} else {
						boxscoremap[vv.name] = 1
					}
				}
			}
		}
	}
	for _, v := range tmpLikedImages {
		tmp := strings.Split(v, "-")
		tmpSuffix := tmp[2]
		tmpNum := strings.Split(tmpSuffix, ".")
		boxNum := cast.ToInt(tmpNum[0])
		for _, vv := range globalBox {
			if vv.Num == boxNum {
				if _, ok := boxscoremap[vv.name]; ok {
					boxscoremap[vv.name] = boxscoremap[vv.name] + 1
				} else {
					boxscoremap[vv.name] = 1
				}
			}
		}
	}

	// 取boxscoremap中分数最高的2个box
	firstscorebox := ""
	secondscorebox := ""
	firstscore := 0
	secondscore := 0
	for k, v := range boxscoremap {
		if v > firstscore {
			secondscore = firstscore
			secondscorebox = firstscorebox
			firstscore = v
			firstscorebox = k
		} else if v > secondscore {
			secondscore = v
			secondscorebox = k
		}
	}
	summary = fmt.Sprintf("%s%s派", firstscorebox, secondscorebox)

	// 取wordscoremap中分数最高的5个word
	wordbaseoncolor := make([]string, 0)
	for i := 20; i > 0; i-- {
		for k, v := range wordscoremap {
			if v == i {
				wordbaseoncolor = append(wordbaseoncolor, k)
			}
		}
		if len(wordbaseoncolor) >= 5 {
			break
		}

	}
	resultword := make([]string, 0)
	if len(wordbaseoncolor) >= 5 {
		resultword = wordbaseoncolor[0:5]
	} else {
		resultword = wordbaseoncolor
	}

	return &AestheticDataRsp{
		AestheticData:      data,
		Comment:            genComment(tmplikedcolors, tmpDislikedColors, tmpadjectives, tmpLikedImages),
		LikedColorDesc:     likedColorDesc,
		DislikedColorDesc:  dislikedColorDesc,
		LikedAdjectiveDesc: tmpadjectives,
		LikedLifeImageDesc: lifeImageDesc,
		LikedAreaImageDesc: areaImageDesc,
		Summary:            summary,
		WordBaseOnColor:    resultword,
	}, nil
}

// ======== 管理员相关 ========

// AdminLogin 管理员登录
func (s *Service) AdminLogin(req *AdminLoginRequest) (*AdminLoginResponse, error) {
	var admin Admin
	result := s.db.Where("phone = ?", req.Phone).First(&admin)
	if result.Error != nil {
		if errors.Is(result.Error, gorm.ErrRecordNotFound) {
			return nil, errors.New("管理员不存在")
		}
		return nil, result.Error
	}

	// 实际项目中应该对密码进行加密存储和验证
	if admin.Password != req.Password {
		return nil, errors.New("密码错误")
	}

	// 生成token
	now := time.Now()
	expireAt := now.Add(24 * time.Hour) // token有效期24小时
	token := fmt.Sprintf("admin_token_%d_%d", now.Unix(), now.UnixNano())

	// 更新token
	admin.Token = token
	admin.ExpireAt = &expireAt
	if err := s.db.Save(&admin).Error; err != nil {
		return nil, err
	}

	return &AdminLoginResponse{
		Token:     token,
		ExpiresIn: int64(expireAt.Sub(now).Seconds()),
	}, nil
}

// GetAdminByToken 根据token获取管理员信息
func (s *Service) GetAdminByToken(token string) (*Admin, error) {
	var admin Admin
	result := s.db.Where("token = ?", token).First(&admin)
	if result.Error != nil {
		return nil, result.Error
	}

	// 检查token是否过期
	if admin.ExpireAt != nil && admin.ExpireAt.Before(time.Now()) {
		return nil, errors.New("token已过期")
	}

	return &admin, nil
}

// GetUserList 获取用户列表
func (s *Service) GetUserList(req *UserListRequest) (*PageResponse, error) {
	var total int64
	var list []User

	query := s.db.Model(&User{})

	// 应用筛选条件
	if req.Phone != "" {
		query = query.Where("phone LIKE ?", "%"+req.Phone+"%")
	}

	if req.Status != nil {
		query = query.Where("status = ?", *req.Status)
	}

	// 计算总数
	if err := query.Count(&total).Error; err != nil {
		return nil, err
	}

	// 分页查询
	if err := query.Order("created_at DESC").
		Offset((req.Page - 1) * req.PageSize).
		Limit(req.PageSize).
		Find(&list).Error; err != nil {
		return nil, err
	}

	return &PageResponse{
		List:     list,
		Total:    total,
		Page:     req.Page,
		PageSize: req.PageSize,
	}, nil
}

// UpdateUserStatus 更新用户状态
func (s *Service) UpdateUserStatus(userID uint, status int) error {
	return s.db.Model(&User{}).Where("id = ?", userID).Update("status", status).Error
}

// GetAestheticDataList 获取审美数据列表(管理后台)
func (s *Service) GetAestheticDataList(req *AestheticDataListRequest) (*PageResponse, error) {
	var total int64
	var list []AestheticData

	query := s.db.Model(&AestheticData{})

	// 应用筛选条件
	if req.Name != "" {
		query = query.Where("name LIKE ?", "%"+req.Name+"%")
	}

	if req.Gender != "" {
		query = query.Where("gender = ?", req.Gender)
	}

	if req.AgeMin > 0 {
		query = query.Where("age >= ?", req.AgeMin)
	}

	if req.AgeMax > 0 {
		query = query.Where("age <= ?", req.AgeMax)
	}

	if req.Province != "" {
		allcity := s.GetAllCity()
		cityinprovince := make([]string, 0)
		for _, v := range allcity {
			if v.Name == req.Province {
				for _, vv := range v.City {
					cityinprovince = append(cityinprovince, vv.Name)
				}
			}
		}
		query = query.Where("city IN ?", cityinprovince)

	}

	if req.City != "" {
		query = query.Where("city LIKE ?", "%"+req.City+"%")
	}

	if req.Phone != "" {
		query = query.Where("phone LIKE ?", "%"+req.Phone+"%")
	}

	// 计算总数
	if err := query.Count(&total).Error; err != nil {
		return nil, err
	}

	// 分页查询
	if err := query.Order("created_at DESC").
		Offset((req.Page - 1) * req.PageSize).
		Limit(req.PageSize).
		Find(&list).Error; err != nil {
		return nil, err
	}

	for k, v := range list {
		list[k].ColorImageURL = getColorImageURL(v.ColorImageURL)
		list[k].BoxImageURL = getBoxImageURL(v.BoxImageURL)
		list[k].LikedImages = formatLikedImages(v.LikedImages)
	}

	return &PageResponse{
		List:     list,
		Total:    total,
		Page:     req.Page,
		PageSize: req.PageSize,
	}, nil
}

func formatLikedImages(images string) string {
	if images == "" {
		return ""
	}
	var imgs []string
	err := json.Unmarshal([]byte(images), &imgs)
	if err != nil {
		return ""
	}
	newimg := make([]string, 0)
	for _, v := range imgs {
		newimg = append(newimg, getGlobalImageURL(v))
	}
	s, _ := json.Marshal(newimg)
	return string(s)
}

// GetAestheticDataAnalysis 获取审美数据统计分析
func (s *Service) GetAestheticDataAnalysis(req *AestheticAnalysisRequest) ([]AnalysisItem, error) {
	// 构建查询
	query := s.db.Model(&AestheticData{})

	// 应用筛选条件
	if req.Gender != "" {
		query = query.Where("gender = ?", req.Gender)
	}

	if req.AgeMin > 0 {
		query = query.Where("age >= ?", req.AgeMin)
	}

	if req.AgeMax > 0 {
		query = query.Where("age <= ?", req.AgeMax)
	}

	if req.City != "" {
		query = query.Where("city LIKE ?", "%"+req.City+"%")
	}

	if req.Province != "" {
		allcity := s.GetAllCity()
		cityinprovince := make([]string, 0)
		for _, v := range allcity {
			if v.Name == req.Province {
				for _, vv := range v.City {
					cityinprovince = append(cityinprovince, vv.Name)
				}
			}
		}
		query = query.Where("city IN ?", cityinprovince)

	}

	// 获取符合条件的数据
	var dataList []AestheticData
	if err := query.Find(&dataList).Error; err != nil {
		return nil, err
	}
	// 根据分析类型处理数据
	switch req.AnalysisType {
	case "color":
		return s.analyzeColors(dataList, true, req.Top), nil
	case "disliked_color":
		return s.analyzeColors(dataList, false, req.Top), nil
	case "adjective":
		return s.analyzeAdjectives(dataList, req.Top), nil
	case "image":
		return s.analyzeImages(dataList, req.Top), nil
	case "region":
		return s.analyzeRegions(dataList, req.Top, req.Dimension), nil
	default:
		return nil, errors.New("不支持的分析类型")
	}
}

// analyzeColors 分析颜色数据
func (s *Service) analyzeColors(dataList []AestheticData, isLiked bool, top int) []AnalysisItem {
	// 统计颜色频率
	colorCounts := make(map[int]int)
	total := 0

	for _, data := range dataList {
		var colors []int
		jsonStr := data.LikedColors
		if !isLiked {
			jsonStr = data.DislikedColors
		}

		if err := json.Unmarshal([]byte(jsonStr), &colors); err == nil {
			for _, color := range colors {
				colorCounts[color]++
				total++
			}
		}
	}

	// 将统计结果转换为AnalysisItem
	var items []AnalysisItem
	for color, count := range colorCounts {
		items = append(items, AnalysisItem{
			Name:    numToFullName(color),
			Count:   count,
			Percent: float64(count) * 100 / float64(total),
		})
	}

	// 按数量排序
	sort.Slice(items, func(i, j int) bool {
		return items[i].Count > items[j].Count
	})

	// 返回前top项
	if top > 0 && top < len(items) {
		return items[:top]
	}
	return items
}

// analyzeAdjectives 分析形容词数据
func (s *Service) analyzeAdjectives(dataList []AestheticData, top int) []AnalysisItem {
	// 统计形容词频率
	adjectiveCounts := make(map[string]int)
	total := 0

	for _, data := range dataList {
		var adjectives []string
		if err := json.Unmarshal([]byte(data.LikedAdjectives), &adjectives); err == nil {
			for _, adj := range adjectives {
				adjectiveCounts[adj]++
				total++
			}
		}
	}

	// 将统计结果转换为AnalysisItem
	var items []AnalysisItem
	for adj, count := range adjectiveCounts {
		items = append(items, AnalysisItem{
			Name:    adj,
			Count:   count,
			Percent: float64(count) * 100 / float64(total),
		})
	}

	// 按数量排序
	sort.Slice(items, func(i, j int) bool {
		return items[i].Count > items[j].Count
	})

	// 返回前top项
	if top > 0 && top < len(items) {
		return items[:top]
	}
	return items
}

func imageNameToDescription(name string) string {
	// 提取数字部分
	parts := strings.Split(name, "-")
	category := cast.ToInt(parts[0])
	numdesc := parts[2]
	numslice := strings.Split(numdesc, ".")
	num := cast.ToInt(numslice[0])
	// 构建描述
	boxname := ""
	for _, v := range globalBox {
		if v.Num == num {
			boxname = v.name
			break
		}
	}
	categoryname := ""
	for _, v := range globalImageCategory {
		if v.CategoryID == category {
			categoryname = v.CategoryName
			break
		}
	}
	description := fmt.Sprintf("%s-%s", categoryname, boxname)
	return description
}

// analyzeImages 分析图片数据
func (s *Service) analyzeImages(dataList []AestheticData, top int) []AnalysisItem {
	// 统计图片频率
	imageCounts := make(map[string]int)
	total := 0

	for _, data := range dataList {
		var images []string
		if err := json.Unmarshal([]byte(data.LikedImages), &images); err == nil {
			for _, img := range images {
				imageCounts[img]++
				total++
			}
		}
	}

	// 将统计结果转换为AnalysisItem
	var items []AnalysisItem
	for img, count := range imageCounts {
		items = append(items, AnalysisItem{
			Name:    imageNameToDescription(img),
			Count:   count,
			Percent: float64(count) * 100 / float64(total),
		})
	}

	// 按数量排序
	sort.Slice(items, func(i, j int) bool {
		return items[i].Count > items[j].Count
	})

	// 返回前top项
	if top > 0 && top < len(items) {
		return items[:top]
	}
	return items
}

// analyzeRegions 分析地域数据
func (s *Service) analyzeRegions(dataList []AestheticData, top int, dimension string) []AnalysisItem {
	// 统计城市出现次数
	cityCount := make(map[string]int)
	for _, item := range dataList {
		if item.City != "" {
			cityCount[item.City]++
		}
	}

	// 转换为分析结果
	var result []AnalysisItem
	countMap := make(map[string]int, 0)
	for city, count := range cityCount {
		if dimension == "map" {
			var province string
			// 渲染地图时，不能使用市，要使用省级
			if city == "北京" || city == "上海" || city == "天津" || city == "重庆" {
				city = city + "市"
			}

			allcity := s.GetAllCity()
			for _, v := range allcity {
				for _, vv := range v.City {
					if vv.Name == city {
						province = v.Name
						break
					}
				}
			}

			if province == "北京" || province == "上海" || province == "天津" || province == "重庆" {
				province = province + "市"
			}

			if _, ok := countMap[province]; ok {
				countMap[province] += count
			} else {
				countMap[province] = count
			}
		}
	}
	for name, count := range countMap {
		result = append(result, AnalysisItem{
			Name:  name,
			Count: count,
		})
	}

	// 计算百分比
	total := len(dataList)
	if total > 0 {
		for i := range result {
			result[i].Percent = float64(result[i].Count) * 100 / float64(total)
		}
	}

	// 按数量降序排序
	sort.Slice(result, func(i, j int) bool {
		return result[i].Count > result[j].Count
	})

	// 截取前top条数据
	if top > 0 && len(result) > top {
		result = result[:top]
	}

	return result
}

// WxAPIResponse 微信API返回的数据结构
type WxAPIResponse struct {
	OpenID     string `json:"openid"`
	SessionKey string `json:"session_key"`
	UnionID    string `json:"unionid"`
	ErrCode    int    `json:"errcode"`
	ErrMsg     string `json:"errmsg"`
	PhoneInfo  struct {
		PhoneNumber     string `json:"phoneNumber"`
		PurePhoneNumber string `json:"purePhoneNumber"`
		CountryCode     string `json:"countryCode"`
		Watermark       struct {
			Timestamp int64  `json:"timestamp"`
			AppID     string `json:"appid"`
		} `json:"watermark"`
	} `json:"phone_info"`
}

// PhoneInfo 手机号信息
type PhoneInfo struct {
	PhoneNumber     string `json:"phoneNumber"`
	PurePhoneNumber string `json:"purePhoneNumber"`
	CountryCode     string `json:"countryCode"`
	Watermark       struct {
		AppID     string `json:"appid"`
		Timestamp int64  `json:"timestamp"`
	} `json:"watermark"`
}

// 解密微信加密数据
func (s *Service) decryptWxData(sessionKey, encryptedData, iv string) (*PhoneInfo, error) {
	// 解码sessionKey
	aesKey, err := base64.StdEncoding.DecodeString(sessionKey)
	if err != nil {
		return nil, fmt.Errorf("解码sessionKey失败: %w", err)
	}

	// 解码加密数据
	ciphertext, err := base64.StdEncoding.DecodeString(encryptedData)
	if err != nil {
		return nil, fmt.Errorf("解码encryptedData失败: %w", err)
	}

	// 解码初始向量
	ivBytes, err := base64.StdEncoding.DecodeString(iv)
	if err != nil {
		return nil, fmt.Errorf("解码iv失败: %w", err)
	}

	// 创建解密器
	block, err := aes.NewCipher(aesKey)
	if err != nil {
		return nil, fmt.Errorf("创建解密器失败: %w", err)
	}

	// 使用CBC模式解密
	mode := cipher.NewCBCDecrypter(block, ivBytes)
	plaintext := make([]byte, len(ciphertext))
	mode.CryptBlocks(plaintext, ciphertext)

	// 去除PKCS#7填充
	plaintext = s.pkcs7Unpad(plaintext)

	// 解析JSON
	var phoneInfo PhoneInfo
	if err := json.Unmarshal(plaintext, &phoneInfo); err != nil {
		return nil, fmt.Errorf("解析手机号信息失败: %w", err)
	}

	return &phoneInfo, nil
}

// PKCS#7解填充
func (s *Service) pkcs7Unpad(data []byte) []byte {
	length := len(data)
	if length == 0 {
		return nil
	}

	padding := int(data[length-1])
	if padding > length {
		return data
	}

	return data[:length-padding]
}

// 通过CloudID获取手机号
func (s *Service) getPhoneNumberByCloudID(cloudID string) (*PhoneInfo, error) {
	// 这里实现通过CloudID获取手机号的逻辑
	// 可能需要调用微信云开发的API或者自己的云函数

	// 示例实现，实际项目中需要替换为真实的实现
	return nil, fmt.Errorf("未实现CloudID获取手机号的功能")
}

// getWxOpenIDAndPhoneNumber 调用微信API获取OpenID和手机号
func (s *Service) getWxOpenIDAndPhoneNumber(code string) (*WxAPIResponse, error) {
	// 从配置中获取小程序AppID和AppSecret
	appID := kcfg.GetString("app.global.wxappid")
	appSecret := kcfg.GetString("app.global.wxappsecret")

	if appID == "" || appSecret == "" {
		return nil, errors.New("微信小程序配置缺失")
	}

	// 调用微信登录凭证校验接口获取session_key和openid
	authURL := fmt.Sprintf("https://api.weixin.qq.com/sns/jscode2session?appid=%s&secret=%s&js_code=%s&grant_type=authorization_code",
		appID, appSecret, code)

	resp, err := http.Get(authURL)
	if err != nil {
		return nil, fmt.Errorf("请求微信API失败: %w", err)
	}
	defer resp.Body.Close()

	body, err := io.ReadAll(resp.Body)
	if err != nil {
		return nil, fmt.Errorf("读取微信API响应失败: %w", err)
	}

	var wxResp WxAPIResponse
	fmt.Println("微信API响应: ", string(body))
	if err := json.Unmarshal(body, &wxResp); err != nil {
		return nil, fmt.Errorf("解析微信API响应失败: %w", err)
	}

	if wxResp.ErrCode != 0 {
		return nil, fmt.Errorf("微信API返回错误: %s", wxResp.ErrMsg)
	}

	// 如果需要获取手机号，还需要调用微信的手机号解密接口
	// 这里假设code已经是手机号获取的code，直接返回结果
	// 实际应用中可能需要额外调用getPhoneNumber接口

	return &wxResp, nil
}

func GetImageFromFile(filePath string) (img image.Image, err error) {
	f1Src, err := os.Open(filePath)

	if err != nil {
		return nil, err
	}
	defer f1Src.Close()

	buff := make([]byte, 512)
	_, err = f1Src.Read(buff)

	if err != nil {
		return nil, err
	}

	filetype := http.DetectContentType(buff)

	fSrc, err := os.Open(filePath)
	defer fSrc.Close()

	switch filetype {
	case "image/jpeg", "image/jpg":
		img, err = jpeg.Decode(fSrc)
		if err != nil {
			return nil, err
		}

	case "image/gif":
		img, err = gif.Decode(fSrc)
		if err != nil {
			return nil, err
		}

	case "image/png":
		img, err = png.Decode(fSrc)
		if err != nil {
			return nil, err
		}
	default:
		return nil, err
	}
	return img, nil
}
